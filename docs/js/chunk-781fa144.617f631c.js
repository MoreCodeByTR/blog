(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-781fa144"],{"0b42":function(s,t,a){var e=a("da84"),r=a("e8b5"),l=a("68ee"),n=a("861d"),p=a("b622"),_=p("species"),v=e.Array;s.exports=function(s){var t;return r(s)&&(t=s.constructor,l(t)&&(t===v||r(t.prototype))?t=void 0:n(t)&&(t=t[_],null===t&&(t=void 0))),void 0===t?v:t}},"1dde":function(s,t,a){var e=a("d039"),r=a("b622"),l=a("2d00"),n=r("species");s.exports=function(s){return l>=51||!e((function(){var t=[],a=t.constructor={};return a[n]=function(){return{foo:1}},1!==t[s](Boolean).foo}))}},"4de4":function(s,t,a){"use strict";var e=a("23e7"),r=a("b727").filter,l=a("1dde"),n=l("filter");e({target:"Array",proto:!0,forced:!n},{filter:function(s){return r(this,s,arguments.length>1?arguments[1]:void 0)}})},"4fa3":function(s,t,a){},"65f0":function(s,t,a){var e=a("0b42");s.exports=function(s,t){return new(e(s))(0===t?0:t)}},"922a":function(s,t,a){"use strict";a("4fa3")},b727:function(s,t,a){var e=a("0366"),r=a("e330"),l=a("44ad"),n=a("7b0b"),p=a("07fa"),_=a("65f0"),v=r([].push),c=function(s){var t=1==s,a=2==s,r=3==s,c=4==s,o=6==s,i=7==s,h=5==s||o;return function(u,j,d,m){for(var f,y,g=n(u),b=l(g),k=e(j,d),w=p(b),T=0,S=m||_,C=t?S(u,w):a||i?S(u,0):void 0;w>T;T++)if((h||T in b)&&(f=b[T],y=k(f,T,g),s))if(t)C[T]=y;else if(y)switch(s){case 3:return!0;case 5:return f;case 6:return T;case 2:v(C,f)}else switch(s){case 4:return!1;case 7:v(C,f)}return o?-1:r||c?c:C}};s.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},e8b5:function(s,t,a){var e=a("c6b6");s.exports=Array.isArray||function(s){return"Array"==e(s)}},ead7:function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"markdown-body"},[a(s.currentView,{tag:"component"})],1)},r=[],l=(a("4de4"),a("d3b7"),function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)}),n=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[s._v("HTTP缓存")]),a("blockquote",[a("p",[s._v("编辑日期:2022.3.28")])]),a("blockquote",[a("p",[s._v("参考文献")]),a("p",[s._v("https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control")]),a("p",[s._v("https://blog.csdn.net/jiangshangchunjiezi/article/details/104488266")])]),a("h2",[s._v("1.为什么使用缓存")]),a("ul",[a("li",[s._v("减少延迟")]),a("li",[s._v("减少网络通信")]),a("li",[s._v("增强网站响应性")])]),a("hr"),a("h2",[s._v("2.Cache-Control")]),a("p",[a("code",{pre:!0},[s._v("Cache-Control")]),s._v("是浏览器缓存的控制开关，不设置的则会重新向服务器发起请求；")]),a("p",[a("code",{pre:!0},[s._v("Cache-Control")]),s._v("是通用的消息头字段，其指令是单向的，在请求头中的"),a("code",{pre:!0},[s._v("Cache-Control")]),s._v("不一定包含在响应头中")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v('accept-ranges: bytes\naccess-control-allow-origin: *\nage: 75617\ncache-control: max-age=31536000\ncontent-encoding: br\ncontent-md5: qEixiiEsURBAE2zakMuWhg==\ncontent-type: text/javascript; charset=utf-8\ndate: Sun, 27 Mar 2022 03:36:45 GMT\netag: "a848b18a212c511040136cda90cb9686"\nexpires: Tue, 29 Mar 2022 06:36:28 GMT\nlast-modified: Thu, 17 Mar 2022 08:23:27 GMT\nohc-cache-hit: jn7un52 [2]\nohc-file-size: 617427\nserver: JSP3/2.0.14\ntiming-allow-origin: *\nx-bce-content-crc32: 3171064980\nx-bce-debug-id: 6nzJkohMEqwAdOz3SUUley/u9NMny0t9vcSu4tv9cbAc/BK+iqjrnY4UOuzgjSFml7kLIoVioeUGk8RYgsDrHQ==\nx-bce-request-id: fde4f928-13ca-4600-83cf-ee8d9ec97ff8\nx-bce-storage-class: STANDARD\n')])]),a("p",[s._v("客户端在HTTP请求中可以使用的"),a("code",{pre:!0},[s._v("Cache-Control")]),s._v("指令")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("Cache-Control: max-age=<seconds>\nCache-Control: max-stale[=<seconds>]\nCache-Control: min-fresh=<seconds>\nCache-control: no-cache\nCache-control: no-store\nCache-control: no-transform\nCache-control: only-if-cached\n")])]),a("p",[s._v("服务器在HTTP请求中可以使用的"),a("code",{pre:!0},[s._v("Cache-Control")]),s._v("指令")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("Cache-control: must-revalidate\nCache-control: no-cache\nCache-control: no-store\nCache-control: no-transform\nCache-control: public\nCache-control: private\nCache-control: proxy-revalidate\nCache-Control: max-age=<seconds>\nCache-control: s-maxage=<seconds>\n")])]),a("blockquote",[a("p",[a("code",{pre:!0},[s._v("public")]),s._v(" 表明响应可以被任何对象（包括：发送请求的客户端，代理服务器，等等）缓存，即使是通常不可缓存的内容。（例如：1.该响应没有max-age指令或Expires消息头；2. 该响应对应的请求方法是 POST 。）")])]),a("blockquote",[a("p",[a("code",{pre:!0},[s._v("private")]),s._v(" 表明响应只能被单个用户缓存，不能作为共享缓存（即代理服务器不能缓存它）。私有缓存可以缓存响应内容，比如：对应用户的本地浏览器。")])]),a("blockquote",[a("p",[a("code",{pre:!0},[s._v("no-cache")]),s._v(" 在发布缓存副本之前，强制要求缓存把请求提交给原始服务器进行验证(协商缓存验证)。")])]),a("blockquote",[a("p",[a("code",{pre:!0},[s._v("no-store")]),s._v(" 缓存不应存储有关客户端请求或服务器响应的任何内容，即不使用任何缓存。")])]),a("blockquote",[a("p",[a("code",{pre:!0},[s._v("max-age=<seconds>")]),s._v(" 设置缓存存储的最大周期，超过这个时间缓存被认为过期(单位秒)。与Expires相反，时间是相对于请求的时间。若在此时间内发起请求，会用缓存；若超时，则会向服务端发请求。")])]),a("hr"),a("h2",[s._v("3.Expires")]),a("p",[a("code",{pre:!0},[s._v("Expires")]),s._v(" 响应头包含日期/时间， 即在此时候之后，响应过期。")]),a("p",[s._v("如果在"),a("code",{pre:!0},[s._v("Cache-Control")]),s._v("响应头设置了 "),a("code",{pre:!0},[s._v("max-age")]),s._v(" 或者 "),a("code",{pre:!0},[s._v("s-max-age")]),s._v(" 指令，那么 "),a("code",{pre:!0},[s._v("Expires")]),s._v(" 头会被忽略。")]),a("hr"),a("h2",[s._v("4.协商缓存")]),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200224232616448.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ppYW5nc2hhbmdjaHVuamllemk=,size_16,color_FFFFFF,t_70",alt:"协商缓存过程"}})]),a("blockquote",[a("p",[a("code",{pre:!0},[s._v("Etag")]),s._v("、"),a("code",{pre:!0},[s._v("If-None-Match")])]),a("blockquote",[a("p",[s._v("浏览器第一次向服务器请求一个资源，服务器在返回这个资源的同时，在respone的header加上ETag字段；")]),a("p",[s._v("浏览器再次跟服务器请求这个资源时，在request的header上加上If-None-Match，这个值就是上一次请求时返回的ETag的值；")]),a("p",[s._v("服务器再次收到资源请求时，再根据资源生成一个新的ETag，与浏览器传过来If-None-Match比较，如果这两个值相同，则说明资源没有变化，返回304 Not Modified, 浏览器从缓存中加载资源，否则返回200 资源内容。与Last-Modified不一样的是，当服务器返回304 Not Modified的响应时，由于ETag重新生成过，response header中还会把这个ETag返回，即使这个ETag跟之前的没有变化")])])]),a("blockquote",[a("p",[a("code",{pre:!0},[s._v("Last-Modified")]),s._v("、"),a("code",{pre:!0},[s._v("If-Modified-Since")])]),a("blockquote",[a("p",[s._v("浏览器第一次向服务器请求一个资源，服务器在返回这个资源的同时，在respone的header加上Last-Modified字段，表示该资源在服务器上的最后修改时间；")]),a("p",[s._v("浏览器再次向服务器请求这个资源时，在request的header上加上If-Modified-Since字段，这个值就是上一次请求时返回的Last-Modified的值;")]),a("p",[s._v("服务器收到资源请求时，比较If-Modified-Since字段值和被请求资源的最后修改时间，若资源最后修改时间较旧，则说明文件没有修改，返回304 Not Modified, 浏览器从缓存中加载资源；若不相同，说明文件被更新，浏览器直接从服务器加载资源, 返回200；")]),a("p",[s._v("重新加载资源时更新Last-Modified Header")])])]),a("hr"),a("blockquote",[a("p",[s._v("为什么有了"),a("code",{pre:!0},[s._v("Last-Modified")]),s._v("，还需要使用"),a("code",{pre:!0},[s._v("Etag")]),s._v("？")])]),a("p",[s._v("一些文件可能被修改过，但是其内容并未变化，这时候我们不希望客户端认为文件进行了改变，而重新请求")]),a("ul",[a("li",[s._v("部分文件修改频繁，1s内多次修改，而"),a("code",{pre:!0},[s._v("If-Modified-Since")]),s._v("只能检查的粒度为s")]),a("li",[s._v("某些服务器不能精确的得到文件的最后修改时间。 对于上述情景，利用"),a("code",{pre:!0},[s._v("ETag")]),s._v("能够更加准确的控制缓存，因为ETag是服务器自动生成的资源在服务器端的唯一标识符，资源每次变动，都会生成新的ETag值。"),a("code",{pre:!0},[s._v("Last-Modified")]),s._v("与"),a("code",{pre:!0},[s._v("ETag")]),s._v("是可以一起使用的，但服务器会"),a("code",{pre:!0},[s._v("优先验证ETag")]),s._v("。")])]),a("hr"),a("h2",[s._v("5.响应中Age与Date")]),a("blockquote",[a("p",[a("code",{pre:!0},[s._v("Date")]),s._v(" 原服务器第一次响应的时间")]),a("p",[a("code",{pre:!0},[s._v("Age")]),s._v(" 表示中间环节(CDN或缓存服务器)从服务器拿到数据之后的时间。如果是客户端看到是0秒，代表是从服务器拿到的最新的数据。")])]),a("hr"),a("h2",[s._v("6.浏览器缓存位置")]),a("blockquote",[a("p",[s._v("从高到低排序")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("Service Worker")])])]),a("p",[s._v("Service worker是一个注册在指定源和路径下的事件驱动worker。它采用JavaScript控制关联的页面或者网站，拦截并修改访问和资源请求，细粒度地缓存资源。你可以完全控制应用在特定情形（最常见的情形是网络不可用）下的表现。")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("Memory Cache")])])]),a("p",[s._v("Memory Cache 就是内存缓存，它的"),a("code",{pre:!0},[s._v("效率最快")]),s._v("，但缓存"),a("code",{pre:!0},[s._v("持续性很短")]),s._v("，会"),a("code",{pre:!0},[s._v("随着进程的释放而释放")]),s._v("。一旦我们关闭 Tab 页面，内存中的缓存也就被释放了。")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("Disk Cache")])])]),a("p",[s._v("Disk Cache 也就是存储在硬盘中的缓存，"),a("code",{pre:!0},[s._v("读取速度慢点")]),s._v("，但是什么都能存储到磁盘中，比之 Memory Cache 胜在容量和存储时效性上。在所有浏览器缓存中，Disk Cache "),a("code",{pre:!0},[s._v("覆盖面基本是最大的")]),s._v("。它会根据 HTTP Herder 中的字段判断哪些资源需要缓存，哪些资源可以不请求直接使用，哪些资源已经过期需要重新请求。并且即使在跨站点的情况下，"),a("code",{pre:!0},[s._v("相同地址的资源一旦被硬盘缓存下来，就不会再次去请求数据")]),s._v("。")])])])])}],p=a("2877"),_={},v=Object(p["a"])(_,l,n,!1,null,null,null),c=v.exports,o=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[s._v("浏览器输入Url会发生什么？")]),a("p",[s._v("编辑日期：2022.3.28")]),a("blockquote",[a("p",[s._v("参考链接")]),a("p",[s._v("https://www.jianshu.com/p/7eea6fbc5fcd")])]),a("blockquote",[a("p",[s._v("详细过程")])]),a("ul",[a("li",[s._v("1.判断当前url的缓存内容是否可用,决定是否向服务器请求资源")]),a("li",[s._v("2.DNS解析，寻找域名映射的IP地址")]),a("li",[s._v("3.浏览器与服务器通过三次握手建立TCP连接")]),a("li",[s._v("4.浏览器向服务器发送HTTP请求")]),a("li",[s._v("5.浏览器接收服务器的HTTP响应报文")]),a("li",[s._v("6.浏览器进行页面渲染")]),a("li",[s._v("7.通过四次挥手关闭TCP连接")])]),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200417223938321.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NDX1RvZ2V0aGVy,size_16,color_FFFFFF,t_70",alt:"浏览器页面渲染"}})]),a("blockquote",[a("p",[s._v("1.解析HTML生成DOM树；")]),a("p",[s._v("2.解析CSS生成CSS规则；")]),a("p",[s._v("3.合并DOM树和渲染规则生成渲染树render Tree")]),a("p",[s._v("4.对渲染树进行布局计算，对页面元素进行位置布局计算")]),a("p",[s._v("5.绘制render树")]),a("p",[s._v("6.浏览器将各层的信息发送给GPU,由进行图层的合成，并展示在屏幕上；")])]),a("p",[s._v("浏览器在未收到完成的HTML文件时，就进行了页面的渲染，在遇到外部的脚本标签或者样式时，就会重新发送http请求重复上述过程，在这之中可能会发生页面的回流或者重绘；")]),a("hr"),a("h2",[s._v("重绘和重排（回流）")]),a("blockquote"),a("p",[s._v("Reflow和Repaint，回流也称之为Layout,一般意味着页面的内容、结构、位置尺寸发生了变化，需要重新计数和渲染树；")]),a("p",[s._v("Repaint意味着页面的改变只是影响到页面的一些元素外观之类的")]),a("p",[s._v("显然，回流的成本要高于重绘，DOM树中节点的reflow很可能导致与其相关节点的reflow")]),a("blockquote",[a("p",[s._v("减少重排的方法:")]),a("ul",[a("li",[s._v("集中修改样式")]),a("li",[s._v("将元素设置为display：none，脱离文档流")]),a("li",[s._v("使用BFC，不影响其他元素位置")]),a("li",[s._v("使用节流或者防抖")]),a("li",[s._v("使用createDocumentFragment批量操作DOM")]),a("li",[s._v("使用CSS3和requestAnimationFrame,利用自身的优化机制")])])]),a("hr"),a("h2",[s._v("第二种思路回答")]),a("ul",[a("li",[s._v("网络请求")])]),a("blockquote",[a("p",[s._v("DNS解析、TCP连接、HTTP请求")])]),a("ul",[a("li",[s._v("解析")])]),a("blockquote",[a("p",[s._v("解析HTML报文，遇到css、js、图片等静态资源继续使用http请求,网络请求过程中会进行缓存判断；")]),a("p",[s._v("将数据进行结构化，构建DOM树、CSS规则，生成Render Tree")])]),a("ul",[a("li",[s._v("渲染")])]),a("blockquote",[a("p",[s._v("layout、composite")])])])])])}],h={},u=Object(p["a"])(h,o,i,!1,null,null,null),j=u.exports,d=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},m=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[a("code",{pre:!0},[s._v("<script>")]),s._v("中defer和async的区别？")]),a("p",[s._v("编辑日期：2022.3.28")]),a("p",[a("img",{attrs:{src:"https://image-static.segmentfault.com/28/4a/284aec5bb7f16b3ef4e7482110c5ddbb_fix732",alt:"解析图片"}})]),a("ul",[a("li",[s._v("defer延迟执行，async异步")]),a("li",[s._v("无defer、async时，遇到js时，html暂停解析，下载js执行js")]),a("li",[s._v("有defer时，js下载与html解析并行进行，js执行要在所有元素解析完成之后，DOMContentLoaded 事件触发之前完成。")]),a("li",[s._v("有async时，js下载与html解析并行进行，js下载完毕即执行，会暂停解析html")]),a("li",[s._v("defer能够保证js文件的执行顺序，async不行")]),a("li",[s._v("js动态添加的 script 标签隐含 async 属性")])])])])])}],f={},y=Object(p["a"])(f,d,m,!1,null,null,null),g=y.exports,b=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},k=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h2",[s._v("1. HTTPS")]),a("ul",[a("li",[s._v("1.客户端向客户端发送https请求；")]),a("li",[s._v("2.服务端将非对称加密密钥对中的公钥发送给客户端；")]),a("li",[s._v("3.客户端向第三方机构验证包含公钥信息的数字证书的合法性，如果认证通过则生成一个随机数（后续作为客户端密钥使用），用服务端公钥对这个随机数进行加密；")]),a("li",[s._v("4.客户端发送第二次http请求，将这个加密的随机数发送服务器；")]),a("li",[s._v("5.服务器通过非对称加密中的密钥对上述报文进行解密，得到随机数；")]),a("li",[s._v("6.服务器使用解密获得的随机数对需要响应的报文进行对称加密，并传输给客户端；")]),a("li",[s._v("7.客户端获得响应报文后，使用自己的随机数作为密钥进行解密")])]),a("p",[s._v("总的来说https包含了两次http传输过程，使用了非对称加密和对称加密；非对称加密主要用于处理对称加密需要使用的密钥；")])])])])}],w={},T=Object(p["a"])(w,b,k,!1,null,null,null),S=T.exports,C=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},x=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[s._v("Javascript")]),a("blockquote",[a("p",[s._v("编辑日期：2022.4.2")])]),a("h2",[s._v("1. typeof 判断变量类型")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("typeof")]),s._v(" 无法判断null 返回的是object,这是javascript的历史遗留bug，由于涉及到的东西太多，不好进行修复")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {log}="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("foo")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(")  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//object")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//undefined")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//number")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'123'")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//string")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//boolean")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" {}) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//object")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" []) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//object")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" foo) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//function")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" abc) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//undefined  abc无需声明")]),s._v("\n")])]),a("hr"),a("h2",[s._v("2.如何进行准确的js内置数据类型判断？")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("Object.prototype.toString.call()")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {log}="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {toString}="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Object")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" abc\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("foo")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(toString."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(")) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//[object Null]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(toString."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(")) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//[object Undefined]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(toString."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("(abc)) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//[object Undefined]  abc需要声明不然报错")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(toString."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(")) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//[object Bollean]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(toString."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("123")]),s._v(")) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//[object Number]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(toString."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'boo'")]),s._v(")) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//[object String]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(toString."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("({})) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//[object Object]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(toString."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("([])) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//[object Array]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(toString."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("(foo)) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//[object Function]")]),s._v("\n")])]),a("hr"),a("h2",[s._v("3.数据类型")]),a("blockquote",[a("p",[s._v("八种数据类型")])]),a("ul",[a("li",[s._v("null")]),a("li",[s._v("undefined")]),a("li",[s._v("number")]),a("li",[s._v("string")]),a("li",[s._v("boolean")]),a("li",[s._v("object")]),a("li",[s._v("symbol")]),a("li",[s._v("bigint")])]),a("blockquote",[a("p",[s._v("为什么由bigint")])]),a("p",[s._v("JavaScript中Number.MAX_SAFE_INTEGER表示最⼤安全数字，计算结果是9007199254740991，即在这个数范围内不会出现精度丢失（⼩数除外）。但是⼀旦超过这个范围，js就会出现计算不准确的情况，这在⼤数计算的时候不得不依靠⼀些第三⽅库进⾏解决，因此官⽅提出了BigInt来解决此问题。")]),a("blockquote",[a("p",[s._v("基本类型")])]),a("ul",[a("li",[s._v("Undefined、Null、Boolean、Number、String")])]),a("p",[s._v("存储在栈中，占据空间小，使用频繁")]),a("blockquote",[a("p",[s._v("引用类型")])]),a("ul",[a("li",[s._v("object")])]),a("p",[s._v("存储在堆中，占据空间大，大小不固定，在栈中存储指针，指针指向堆的实体起始位置；")]),a("blockquote",[a("p",[s._v("堆、栈特点")])]),a("p",[s._v("在操作系统中，栈内存由编译器自动分配释放，存储函数的参数值、局部变量值等，其操作方式类似数据结构中的栈；")]),a("p",[s._v("堆区内存由开发者分配释放，若开发者不释放，程序结束时会被垃圾回收机制进行回收；")]),a("hr"),a("h2",[s._v("4. 如何判断变量是否时数组")]),a("ul",[a("li",[s._v("Object.prototype.toString.call(obj)")]),a("li",[s._v("Array.isarray(obj)")]),a("li",[s._v("原型链判断，"),a("code",{pre:!0},[s._v("obj.__proto__")]),s._v(" === "),a("code",{pre:!0},[s._v("Array.prototype")])]),a("li",[s._v("obj instanceof Array")]),a("li",[s._v("Array.prototype.isPrototypeOf(obj)")])]),a("hr"),a("h2",[s._v("5. "),a("code",{pre:!0},[s._v("0.1+0.2")]),s._v(" != "),a("code",{pre:!0},[s._v("0.3")]),s._v("的问题")]),a("p",[s._v("js中数字的存储方式，为64位固定长度；")]),a("p",[s._v("计算机是通过二进制的方式存储数据的，所以计算机计算0.1+0.2的时候，实际上是计算的两个数的二进制的和。0.1的二进制是"),a("code",{pre:!0},[s._v("0.0001100110011001100...")]),s._v("（1100循环），0.2的二进制是："),a("code",{pre:!0},[s._v("0.00110011001100...")]),s._v("（1100循环），这两个数的二进制都是无限循环的数。那JavaScript是如何处理无限循环的二进制小数呢？")]),a("p",[s._v("在二进制科学表示法中，双精度浮点数的小数部分最多只能保留52位，再加上前面的1，其实就是保留53位有效数字，剩余的需要舍去，遵从“0舍1入”的原则。")]),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/MoreCodeByTR/static-resources/master/imgs/JS/%20number-store.png",alt:"浮点数存储"}})]),a("ul",[a("li",[s._v("第一部分（蓝色）：用来存储符号位（sign），用来区分正负数，0表示正数，占用1位")]),a("li",[s._v("第二部分（绿色）：用来存储指数（exponent），占用11位")]),a("li",[s._v("第三部分（红色）：用来存储小数（fraction），占用52位")])]),a("p",[s._v("指数区域（绿色部分）的正负数处理，使用一个固定偏移量解决1023")]),a("blockquote",[a("p",[s._v("js能够表示的最大整数为正负2的53次方")]),a("p",[s._v("参考资源 http://www.jsphp.net/js-jichu-basic/show-7-169-1.html")])]),a("hr"),a("h2",[s._v("6. ==的比较规则")]),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/MoreCodeByTR/static-resources/master/imgs/JS/compare.png",alt:"==比较流程"}})]),a("ul",[a("li",[s._v("首先会判断两者类型是否相同,相同的话就比较两者的大小；")]),a("li",[s._v("类型不相同的话，就会进行类型转换；")]),a("li",[s._v("会先判断是否在对比 null 和 undefined，是的话就会返回 true")]),a("li",[s._v("判断两者类型是否为 string 和 number，是的话就会将字符串转换为 number")]),a("li",[s._v("判断其中一方是否为 boolean，是的话就会把 boolean 转为 number 再进行判断")]),a("li",[s._v("判断其中一方是否为 object 且另一方为 string、number 或者 symbol，是的话就会把 object 转为原始类型再进行判断")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'1'")]),s._v(" == { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'js'")]),s._v(" }      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'1'")]),s._v(" == "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'[object Object]'")]),s._v("\n")])]),a("hr"),a("h2",[s._v("7. let、const、var的比较")]),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/MoreCodeByTR/static-resources/master/imgs/JS/let-var-const.png",alt:"声明变量方式比较"}})]),a("hr"),a("h2",[s._v("8.new操作符的原理")]),a("ul",[a("li",[s._v("创建一个对象")]),a("li",[s._v("将构造函数的作用域赋给新对象（也就是将对象的__proto__属性指向构造函数的prototype属性）")]),a("li",[s._v("指向构造函数中的代码，构造函数中的this指向该对象（也就是为这个对象添加属性和方法）")]),a("li",[s._v("返回新的对象")])]),a("p",[s._v("箭头函数没有自己的prototype，也没有自己的this指向，因此不能对箭头函数进行new操作")]),a("hr"),a("h2",[s._v("9. Proxy作用")]),a("p",[s._v("在 Vue3.0 中通过 Proxy 来替换原本的 Object.defineProperty 来实现数据响应式。")]),a("p",[s._v("Proxy 是 ES6 中新增的功能，它可以用来自定义对象中的操作。")]),a("p",[s._v("如果需要实现一个 Vue 中的响应式，需要在 get 中收集依赖，在 set 派发更新，之所以 Vue3.0 要使用 Proxy 替换原本的 API 原因在于 Proxy 无需一层层递归为每个属性添加代理，一次即可完成以上操作，性能上更好，并且原本的实现有一些数据更新不能监听到，但是 Proxy 可以完美监听到任何方式的数据改变。")]),a("blockquote",[a("p",[s._v("缺点:兼容性问题")])]),a("hr"),a("h2",[s._v("10.this的理解")]),a("p",[s._v("this 是执行上下文中的一个属性，它指向最后一次调用这个方法的对象。在实际开发中，this 的指向可以通过四种调用模式来判断。")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("函数调用模式")]),s._v("：当一个函数不是一个对象的属性时，直接作为函数来调用时，this 指向全局对象。")]),a("li",[a("code",{pre:!0},[s._v("方法调用模式")]),s._v("：如果一个函数作为一个对象的方法来调用时，this 指向这个对象。")]),a("li",[a("code",{pre:!0},[s._v("构造器调用模式")]),s._v("：如果一个函数用 new 调用时，函数执行前会新创建一个对象，this 指向这个新创建的对象。")]),a("li",[a("code",{pre:!0},[s._v("apply 、 call 和 bind 调用模式")])])]),a("blockquote",[a("p",[s._v("优先级")])]),a("p",[s._v("构造函数调用 > apply 、 call 和 bind > 方法调用模式 > 函数调用模式")]),a("hr"),a("h2",[s._v("11. call()、apply()的区别")]),a("p",[s._v("作用都是改变this的指向，传参方式不同，")]),a("ul",[a("li",[s._v("call的第一个参数是函数this的指向，后面参数一个个传递，数量不定")]),a("li",[s._v("apply第一个参数也是this的指向，后面参数用数组或者类数组作为第二个参数")])]),a("hr"),a("h2",[s._v("12.异步编程")]),a("blockquote",[a("p",[s._v("异步编程的几种实现方式")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("回调函数")]),s._v("：代码耦合性高，容易造成嵌套炼狱；")]),a("li",[a("code",{pre:!0},[s._v("Promise")]),s._v(": 解决嵌套，但是可能使用多个then,语义不清晰；")]),a("li",[a("code",{pre:!0},[s._v("generator")]),s._v(": 将函数控制权转移")]),a("li",[a("code",{pre:!0},[s._v("async")]),s._v(": 是 generator 和 promise 实现的一个自动执行的语法糖，它内部自带执行器，当函数内部执行到一个 await 语句的时候，如果语句返回一个 promise 对象，那么函数将会等待 promise 对象的状态变为 resolve 后再继续向下执行。因此可以将异步逻辑，转化为同步的顺序来书写，并且这个函数可以自动执行。")])]),a("hr"),a("h2",[s._v("13. Promise的理解")]),a("blockquote",[a("p",[s._v("Promise的实例有三个状态:")])]),a("ul",[a("li",[s._v("Pending（进行中）")]),a("li",[s._v("Resolved（已完成）")]),a("li",[s._v("Rejected（已拒绝）")])]),a("blockquote",[a("p",[s._v("特点")])]),a("ul",[a("li",[s._v("对象的状态不受外界影响，只有三种状态")]),a("li",[s._v("状态一旦改变，就不会再变，任何时候都能得到这个结果")])]),a("blockquote",[a("p",[s._v("缺点")])]),a("ul",[a("li",[s._v("无法取消，一旦执行，中途无法取消；")]),a("li",[s._v("如果不设置回调函数，promise内部的错误，不会反应在外部；")]),a("li",[s._v("当处于pending状态时，无法得知promise是刚开始还是即将结束")])]),a("p",[s._v("Promise 是一个构造函数，接收一个函数作为参数，返回一个 Promise 实例。一个 Promise 实例有三种状态，分别是pending、resolved 和 rejected，分别代表了进行中、已成功和已失败。实例的状态只能由 pending 转变 resolved 或者rejected 状态，并且状态一经改变，就凝固了，无法再被改变了。")]),a("p",[a("code",{pre:!0},[s._v("注意：")]),s._v(" 在构造 Promise 的时候，构造函数内部的代码是立即执行的")]),a("blockquote",[a("p",[s._v("promise使用")])]),a("p",[s._v("一般情况下都会使用new Promise()来创建promise对象，但是也可以使用promise.resolve和promise.reject这两个方法：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" promise = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("resolve, reject")]),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ... some code")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* 异步操作成功 */")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("resolve")]),s._v("(value);\n  } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("(error);\n  }\n});\n\n")])]),a("hr"),a("h2",[s._v("13.对象继承")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("原型链继承")]),s._v("：缺点是包含引用类型数据时，会被所有实例对象共享，容易造成修改的混乱，创建的子类型不能向超类型传递参数")]),a("li",[a("code",{pre:!0},[s._v("构造函数继承")]),s._v("：解决了子类型向超类型传值的问题，但是其方法无法复用，子类型无法访问到超类型的方法；")]),a("li",[a("code",{pre:!0},[s._v("组合继承")]),s._v("：借鉴上述原型链继承、构造函数继承的优点，使用构造函数实现子类型属性的继承，将子类型的原型设置为超类型的实例来实现方法的继承。缺点时调用了两次超类型的构造函数，造成了子类型原型中很多不必要的属性；")]),a("li",[a("code",{pre:!0},[s._v("原型式继承")]),s._v("：主要思路就是基于已有的对象来创建新的对象，实现的原理是，向函数中传入一个对象，然后返回一个以这个对象为原型的对象。这种继承的思路主要不是为了实现创造一种新的类型，只是对某个对象实现一种简单继承，ES5 中定义的 Object.create() 方法就是原型式继承的实现。缺点与原型链方式相同。")]),a("li",[a("code",{pre:!0},[s._v("寄生式继承")]),s._v("：寄生式继承的思路是创建一个用于封装继承过程的函数，通过传入一个对象，然后复制一个对象的副本，然后对象进行扩展，最后返回这个对象。这个扩展的过程就可以理解是一种继承。这种继承的优点就是对一个简单对象实现继承，如果这个对象不是自定义类型时。缺点是没有办法实现函数的复用。")]),a("li",[a("code",{pre:!0},[s._v("寄生式组合继承")]),s._v("：组合继承的缺点就是使用超类型的实例做为子类型的原型，导致添加了不必要的原型属性。寄生式组合继承的方式是使用"),a("code",{pre:!0},[s._v("超类型的原型的副本")]),s._v("来作为子类型的原型，这样就避免了创建不必要的属性。")])])])])])}],q={},P=Object(p["a"])(q,C,x,!1,null,null,null),O=P.exports,A=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},E=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[s._v("简单请求和复杂请求（CORS实现）")]),a("blockquote",[a("p",[s._v("编辑日期：2022.3.29")]),a("p",[s._v("参考文献：http://www.ruanyifeng.com/blog/2016/04/cors.html")])]),a("hr"),a("blockquote",[a("p",[s._v("CORS可以分为以下两种：")])]),a("ul",[a("li",[s._v("简单请求（simple request）")]),a("li",[s._v("复杂请求（not-so-simple request")])]),a("hr"),a("h2",[s._v("1.简单请求")]),a("blockquote",[a("p",[s._v("简单请求")])]),a("p",[s._v("需要同时满足以下两大条件：")]),a("blockquote",[a("p",[s._v("1、请求方法是以下三种方法之一： HEAD GET POST")])]),a("blockquote",[a("p",[s._v("2、HTTP的头信息不超出以下几种字段： Accept、 Accept-Language、 Content-Language、 Last-Event-ID、 Content-Type：只限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain")])]),a("p",[s._v("这个设计是为了兼容表单，历史上表单一直可以发出跨域请求。AJAX的跨域设计是，只要表单可以发，AJAX就可以直接发。")]),a("p",[s._v("不同时满足上述两个条件的请求均为复杂请求；")]),a("blockquote",[a("p",[s._v("请求过程")])]),a("p",[s._v("简单请求发出时会自动添加"),a("code",{pre:!0},[s._v("Origin")]),s._v("字段")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[s._v("GET /cors HTTP/1.1\nOrigin: http://api.bob.com\nHost: api.alice.com\nAccept-Language: en-US\nConnection: keep-alive\nUser-Agent: Mozilla/5.0...\n")])]),a("p",[s._v("如果Origin指定的域名在许可范围内，服务器返回的响应，会多出几个头信息字段。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("Access-Control-Allow-Origin: http://api.bob.com\nAccess-Control-Allow-Credentials: true\nAccess-Control-Expose-Headers: FooBar\nContent-Type: text/html; charset=utf-8\n")])]),a("p",[s._v("上面的头信息之中，有三个与CORS请求相关的字段，都以"),a("code",{pre:!0},[s._v("Access-Control-")]),s._v("开头。")]),a("ul",[a("li",[s._v("Access-Control-Allow-Origin")])]),a("p",[s._v("该字段是必须的。它的值要么是请求时"),a("code",{pre:!0},[s._v("Origin")]),s._v("字段的值，要么是一个"),a("code",{pre:!0},[s._v("*")]),s._v("，表示接受任意域名的请求。")]),a("ul",[a("li",[s._v("Access-Control-Allow-Credentials")])]),a("p",[s._v("该字段可选。它的值是一个布尔值，表示是否允许发送"),a("code",{pre:!0},[s._v("Cookie")]),s._v("。默认情况下，Cookie不包括在CORS请求之中。设为true，即表示服务器明确许可，Cookie可以包含在请求中，一起发给服务器。这个值也只能设为true，如果服务器不要浏览器发送Cookie，删除该字段即可。")]),a("p",[s._v("需要注意的是，如果要发送Cookie，Access-Control-Allow-Origin就不能设为星号，必须指定明确的、与请求网页一致的域名。同时，Cookie依然遵循同源政策，只有用服务器域名设置的Cookie才会上传，其他域名的Cookie并不会上传，且（跨源）原网页代码中的"),a("code",{pre:!0},[s._v("document.cookie")]),s._v("也无法读取服务器域名下的Cookie。")]),a("ul",[a("li",[s._v("Access-Control-Expose-Headers")])]),a("p",[s._v("该字段可选。与XMLHttpRequest对象的getResponseHeader()方法相关")]),a("hr"),a("h2",[s._v("2.复杂请求")]),a("p",[s._v("非简单请求是那种对服务器有特殊要求的请求，比如请求方法是"),a("code",{pre:!0},[s._v("PUT")]),s._v("或"),a("code",{pre:!0},[s._v("DELETE")]),s._v("，或者"),a("code",{pre:!0},[s._v("Content-Type")]),s._v("字段的类型是"),a("code",{pre:!0},[s._v("application/json")]),s._v("。")]),a("p",[s._v("非简单请求的"),a("code",{pre:!0},[s._v("CORS")]),s._v("在正式通信前，会发起一次HTTP查询请求，成为‘预检’请求（preflight）")]),a("p",[s._v("这次预请求的目的是向服务器验证正式请求是否被允许，会讲正式请求的请求方法、头部信息字段传递给服务器进行验证；")]),a("p",[s._v('"预检"请求用的请求方法是OPTIONS，表示这个请求是用来询问的。头信息里面，关键字段是Origin，表示请求来自哪个源。')]),a("blockquote",[a("p",[s._v("OPTIONS请求")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("\nOPTIONS /cors HTTP/1.1\nOrigin: http://api.bob.com\nAccess-Control-Request-Method: PUT\nAccess-Control-Request-Headers: X-Custom-Header\nHost: api.alice.com\nAccept-Language: en-US\nConnection: keep-alive\nUser-Agent: Mozilla/5.0...\n\n")])]),a("p",[s._v("除了"),a("code",{pre:!0},[s._v("Origin")]),s._v('字段，"预检"请求的头信息包括两个特殊字段。')]),a("ul",[a("li",[s._v("Access-Control-Request-Method")]),a("li",[s._v("Access-Control-Request-Headers")])]),a("blockquote",[a("p",[s._v("服务器回应")])]),a("p",[s._v("服务器检查上述相关字段后，如果允许跨域请求会进行响应")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("HTTP/1.1 200 OK\nDate: Mon, 01 Dec 2008 01:15:39 GMT\nServer: Apache/2.0.61 (Unix)\nAccess-Control-Allow-Origin: http://api.bob.com\nAccess-Control-Allow-Methods: GET, POST, PUT\nAccess-Control-Allow-Headers: X-Custom-Header\nContent-Type: text/html; charset=utf-8\nContent-Encoding: gzip\nContent-Length: 0\nKeep-Alive: timeout=2, max=100\nConnection: Keep-Alive\nContent-Type: text/plain\n")])]),a("p",[s._v("如果服务器响应不包含CORS相关头信息字段，浏览器会判定服务器不同意预检请求，因此会触发一个错误，被XHR的onerror回调函数捕获，在控制台打印如下信息：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("XMLHttpRequest cannot load http://api.alice.com.\nOrigin http://api.bob.com is not allowed by Access-Control-Allow-Origin.\n")])]),a("p",[s._v("服务器回应的CORS字段如下：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("Access-Control-Allow-Methods: GET, POST, PUT\nAccess-Control-Allow-Headers: X-Custom-Header\nAccess-Control-Allow-Credentials: true\nAccess-Control-Max-Age: 1728000 //本次预请求有效期，可缓存，在此期间，无需发出第二条预请求\n")])]),a("blockquote",[a("p",[s._v("预请求通过")])]),a("p",[s._v("通过预请求后与简单请求没有区别，都会有一个"),a("code",{pre:!0},[s._v("Origin")]),s._v("头信息，响应字段中有"),a("code",{pre:!0},[s._v("Access-Control-Allow-Origin")]),s._v("信息")]),a("hr"),a("h2",[s._v("3. CORS与JSONP相比")]),a("p",[s._v("CORS与JSONP的使用目的相同，但是比JSONP更强大。")]),a("p",[s._v("JSONP只支持GET请求，CORS支持所有类型的HTTP请求。JSONP的优势在于支持老式浏览器，以及可以向不支持CORS的网站请求数据。")]),a("hr"),a("h2",[s._v("4.OPTIONS请求方法的主要用途")]),a("ul",[a("li",[s._v("获取服务器支持的所有HTTP请求方法；")]),a("li",[s._v("用来检查访问权限。例如：在进行 CORS 跨域资源共享时，对于复杂请求，就是使用 OPTIONS 方法发送嗅探请求，以判断是否有对指定资源的访问权限。")])])])])])}],M={},H=Object(p["a"])(M,A,E,!1,null,null,null),D=H.exports,R=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},L=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[s._v("HTML基础知识（一）")]),a("blockquote",[a("p",[s._v("编辑日期：2022.03.29")]),a("p",[s._v("参考文献：https://juejin.cn/post/6905294475539513352#heading-20")])]),a("hr"),a("h2",[s._v("1. iframe的优缺点")]),a("blockquote",[a("p",[s._v("优点")])]),a("ul",[a("li",[s._v("可以加载比较慢的内容（如广告）")]),a("li",[s._v("可以并行加载js")]),a("li",[s._v("可以实现跨子域通信")])]),a("blockquote",[a("p",[s._v("缺点")])]),a("ul",[a("li",[s._v("不利于SEO")]),a("li",[s._v("iframe页面会阻塞主页面的onload事件")]),a("li",[s._v("会产生很多页面，不利于管理")])]),a("hr"),a("h2",[s._v("2. Canvas和SVG的区别")]),a("blockquote",[a("p",[s._v("SVG (scalable vector graphics)")])]),a("p",[s._v("是基于XML的2D图形语言，SVG的DOM元素可以被js操作")]),a("blockquote",[a("p",[s._v("特点")])]),a("ul",[a("li",[s._v("不依赖分辨率")]),a("li",[s._v("支持事件处理器")]),a("li",[s._v("最适合带有大型渲染区域的应用程序（比如谷歌地图）")]),a("li",[s._v("复杂度高会减慢渲染速度（任何过度使用 DOM 的应用都不快）")]),a("li",[s._v("不适合游戏应用")])]),a("blockquote",[a("p",[s._v("Canvas")])]),a("p",[s._v("通过js绘制2D图形，是逐像素进行渲染，位置发生变化就会重新渲染")]),a("blockquote",[a("p",[s._v("特点")])]),a("ul",[a("li",[s._v("依赖分辨率")]),a("li",[s._v("不支持事件处理器")]),a("li",[s._v("弱的文本渲染能力")]),a("li",[s._v("能够以 .png 或 .jpg 格式保存结果图像")]),a("li",[s._v("最适合图像密集型的游戏，其中的许多对象会被频繁重绘")])])])])])}],N={},I=Object(p["a"])(N,R,L,!1,null,null,null),F=I.exports,z=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},G=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[s._v("HTTP协议（一）")]),a("blockquote",[a("p",[s._v("编辑日期：2022.3.30")]),a("p",[s._v("参考文献：https://juejin.cn/post/6908327746473033741#heading-2")]),a("p",[s._v("https://www.zhihu.com/question/28586791")]),a("p",[s._v("https://developer.mozilla.org/zh-CN/docs/Glossary/safe")]),a("p",[s._v("https://developer.mozilla.org/zh-CN/docs/Glossary/Idempotent")])]),a("hr"),a("h2",[s._v("1.GET和POST请求的区别")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("缓存")]),s._v("：浏览器一般会对get请求进行缓存，很少对post请求进行请求，post一般对数据有副作用；")]),a("li",[a("code",{pre:!0},[s._v("发送报文的的格式")]),s._v("：Get请求中的报文实体部分为空，post请求中报文的实体部分一般为向服务器发送的数据；")]),a("li",[a("code",{pre:!0},[s._v("安全性")]),s._v("：get将请求参数放在url中，post请求参数放在报文实体中，get相对安全性较差;")]),a("li",[a("code",{pre:!0},[s._v("请求长度")]),s._v("：不同浏览器、服务器对url的长度限制不同，导致get请求的发送数据长度有限；")]),a("li",[a("code",{pre:!0},[s._v("参数类型")]),s._v("：post的参数传递支持更多的数据类型；get只支持url编码，post请求支持多种编码方式；")]),a("li",[a("code",{pre:!0},[s._v("TCP数据包的数量")]),s._v("：存在使用post请求时会发送两个TCP数据包，先发送header到服务器进行验证，验证通过后再发送data;")])]),a("p",[s._v("tips:实际上post、get本质上都是进行请求传输，只不过是由于服务端和客户端的一些约定导致其中的差异。")]),a("hr"),a("h2",[s._v("2.幂等（Idempotent）、安全（Safe）")]),a("p",[s._v("一个HTTP方法是幂等的，指的是同样的请求被执行一次与连续执行多次的效果是一样的，服务器的状态也是一样的。")]),a("p",[s._v("换句话说就是，幂等方法不应该具有副作用（统计用途除外）。")]),a("p",[s._v("幂等性只与后端服务器的实际状态有关，而每一次请求接收到的状态码不一定相同。例如，第一次调用 DELETE 方法有可能返回 200 ，但是后续的请求可能会返回 404 。")]),a("p",[s._v("如果说一个 HTTP 方法是安全的，是指这是个不会修改服务器的数据的方法。也就是说，这是一个对服务器只读操作的方法。这些方法是安全的：GET，HEAD 和 OPTIONS。")]),a("hr"),a("h2",[s._v("3.HTTP请求方法")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("GET")]),s._v("：用于请求指定资源，用于数据获取，幂等无副作用；")]),a("li",[a("code",{pre:!0},[s._v("POST")]),s._v("：发送数据给服务器，不是幂等的；")]),a("li",[a("code",{pre:!0},[s._v("OPTIONS")]),s._v("：用于获取目的资源所支持的通信选项，如获取服务器支持的请求方法、CORS的预请求；")]),a("li",[a("code",{pre:!0},[s._v("PUT")]),s._v("：用于在请求中创建或替换目标资源，PUT是幂等的；")]),a("li",[a("code",{pre:!0},[s._v("HEAD")]),s._v("：请求头部信息，一般用于请求较大的文件资源时；")]),a("li",[a("code",{pre:!0},[s._v("DELETE")]),s._v("：用于删除指定的资源；")]),a("li",[a("code",{pre:!0},[s._v("PATCH")]),s._v("：用于对资源进行部分修改；")]),a("li",[a("code",{pre:!0},[s._v("TRACE")]),s._v("：路径消息环回测试、回显服务器收到的请求，主要⽤于测试或诊断；")]),a("li",[a("code",{pre:!0},[s._v("CONNECT")]),s._v("：开启客户端与服务器请求资源的双向沟通通道；")])]),a("hr"),a("h2",[s._v("4.常见的HTP请求头和响应头")]),a("blockquote",[a("p",[s._v("通用共有 Header")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("Connection")]),s._v(":决定该次请求后是否关闭网络请求，keep-alive,close；")]),a("li",[a("code",{pre:!0},[s._v("Content-Type")]),s._v("：用于指示资源的MIME类型 media type,常见的属性值有以下四种："),a("code",{pre:!0},[s._v("application/x-www-form-urlencoded")]),s._v("、"),a("code",{pre:!0},[s._v("multipart/form-data")]),s._v("、"),a("code",{pre:!0},[s._v("application/json")]),s._v("、"),a("code",{pre:!0},[s._v("text/xml")]),s._v("；")])]),a("blockquote",[a("p",[s._v("HTTP Request Header")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("Accept")]),s._v(":浏览器希望处理的内容类型；")]),a("li",[a("code",{pre:!0},[s._v("Cookie")]),s._v(":健值对形式向服务器传输数据；")]),a("li",[a("code",{pre:!0},[s._v("Host")]),s._v(":表明请求需要发送到的服务器主机名和端口号；")]),a("li",[a("code",{pre:!0},[s._v("Origin")]),s._v(":表示了请求来自于哪个站点，浏览器会将Origin添加到所有的跨域请求、除开GET和HEAD外的同源请求中；")]),a("li",[a("code",{pre:!0},[s._v("Referer")]),s._v(":当前请求页面的来源页面的地址；")]),a("li",[a("code",{pre:!0},[s._v("User-Agent")]),s._v("：用户代理软件的信息标记")])]),a("blockquote",[a("p",[s._v("HTTP Response Header")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("Date")]),s._v(":包含了报文创建的日期和时间；")]),a("li",[a("code",{pre:!0},[s._v("Server")]),s._v(":服务器名称；")]),a("li",[a("code",{pre:!0},[s._v("Cache-Control")]),s._v("：控制HTTP缓存；")])]),a("hr"),a("h2",[s._v("5.HTTP1.1和HTTP2.0的区别")]),a("blockquote",[a("p",[s._v("HTTP2.0")])]),a("ul",[a("li",[s._v("二进制协议")]),a("li",[s._v("多路复用")]),a("li",[s._v("数据流")]),a("li",[s._v("头部信息压缩")]),a("li",[s._v("服务器推送")])]),a("hr"),a("h2",[s._v("6.对keep-alive的理解")]),a("p",[a("code",{pre:!0},[s._v("Keep-Alive")]),s._v("功能使客户端到服务器端的连接持续有效，当出现对服务器的后继请求时，"),a("code",{pre:!0},[s._v("Keep-Alive")]),s._v("功能避免了建立或者重新建立连接，这就是长连接; 使用方法：")]),a("ul",[a("li",[s._v("HTTP1.0版本是默认没有Keep-alive的（也就是默认会发送keep-alive），所以要想连接得到保持，必须手动配置发送Connection: keep-alive字段。若想断开keep-alive连接，需发送Connection:close字段；")]),a("li",[s._v("HTTP1.1规定了默认保持长连接，数据传输完成了保持TCP连接不断开，等待在同域名下继续用这个通道传输数据。如果需要关闭，需要客户端发送Connection：close首部字段。")])]),a("blockquote",[a("p",[s._v("缺点")])]),a("ul",[a("li",[s._v("长时间的Tcp连接容易导致系统资源无效占用，浪费系统资源。")])]),a("hr"),a("h2",[s._v("7.HTTP和HTTPS协议的区别")]),a("ul",[a("li",[s._v("HTTPS协议需要CA证书，费用较高；而HTTP协议不需要；")]),a("li",[s._v("HTTP协议是超文本传输协议，信息是明文传输的，HTTPS则是具有安全性的SSL加密传输协议;")]),a("li",[s._v("使用不同的连接方式，端口也不同，HTTP协议端口是80，HTTPS协议端口是443；")]),a("li",[s._v("TTP协议连接很简单，是无状态的；HTTPS协议是有SSL和HTTP协议构建的可进行加密传输、身份认证的网络协议，比HTTP更加安全。")])]),a("hr"),a("h2",[s._v("8. TCP、UDP区别")]),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/MoreCodeByTR/static-resources/master/imgs/HTTP/tcp-udp-diff.png",alt:"区别"}})])])])])}],U={},J=Object(p["a"])(U,z,G,!1,null,null,null),B=J.exports,$=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},V=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[s._v("浏览器原理")]),a("blockquote",[a("p",[s._v("编辑日期：2022.3.30")]),a("p",[s._v("参考文献：https://juejin.cn/post/6916157109906341902/")])]),a("hr"),a("h2",[s._v("1. XSS (cross site scripting) 跨站脚本攻击")]),a("p",[s._v("是一种代码注入攻击，通过向网站注入恶意脚本，使之在浏览器上运行，从而获取用户信息如cookie、dom、localStorage等；")]),a("p",[s._v("通过脚本攻击可以进行如下操作：")]),a("ul",[a("li",[s._v("获取用户信息")]),a("li",[s._v("DOS（Denial of Server）攻击,占用服务器资源，从而导致用户无法访问服务器")]),a("li",[s._v("破坏页面结构")]),a("li",[s._v("流量劫持（将链接指向某网站）")])]),a("blockquote",[a("p",[s._v("分类：存储型、反射型、DOM型")])]),a("blockquote",[a("p",[s._v("防范：")])]),a("ul",[a("li",[s._v("使用服务端渲染，对插入的HTML代码进行转义处理；")]),a("li",[s._v("使用CSP（Content-Security-Policy）建立白名单，告诉浏览器哪些外部资源可以进行下载执行； https://www.cnblogs.com/kinyoobi/p/15341248.html")]),a("li",[s._v("保护敏感细腻型，比如 "),a("code",{pre:!0},[s._v("cookie")]),s._v(" 使用 "),a("code",{pre:!0},[s._v("http-only")]),s._v("，使得脚本无法获取。也可以使用验证码，避免脚本伪装成用户执行一些操作。")])]),a("hr"),a("h2",[s._v("2.CSRF (Cross Site Request Forgery)跨站点请求伪造")]),a("p",[s._v("攻击者诱导用户进入一个第三方网站，然后该网站向被攻击网站发送跨站请求。如果用户在被攻击网站中保存了登录状态，那么攻击者就可以利用这个登录状态，绕过后台的用户验证，冒充用户向服务器执行一些操作。")]),a("p",[s._v("CSRF 攻击的本质是利用 cookie 会在同源请求中携带发送给服务器的特点，以此来实现用户的冒充。")]),a("blockquote",[a("p",[s._v("攻击类型")])]),a("ul",[a("li",[s._v("GET 类型的 CSRF 攻击，比如在网站中的一个 img 标签里构建一个请求，当用户打开这个网站的时候就会自动发起提交。")]),a("li",[s._v("POST 类型的 CSRF 攻击，比如构建一个表单，然后隐藏它，当用户进入页面时，自动提交这个表单。")]),a("li",[s._v("链接类型的 CSRF 攻击，比如在 a 标签的 href 属性里构建一个请求，然后诱导用户去点击。")])]),a("blockquote",[a("p",[s._v("防范：")])]),a("ul",[a("li",[s._v("服务器进行同源检查，检查请求头Origin、Referer信息；")]),a("li",[s._v("增加token验证")]),a("li",[s._v("cookie设置samesite属性")])]),a("hr"),a("h2",[s._v("3.网络劫持")]),a("blockquote",[a("p",[s._v("分类")])]),a("ul",[a("li",[s._v("DNS劫持")])]),a("p",[s._v("DNS强制解析: 通过修改运营商的本地DNS记录，来引导⽤户流量到缓存服务器")]),a("p",[s._v("302跳转的⽅式: 通过监控⽹络出⼝的流量，分析判断哪些内容是可以进⾏劫持处理的,再对劫持的内存发起302跳转的回复，引导⽤户获取内容")]),a("ul",[a("li",[s._v("HTTP劫持")])]),a("p",[s._v("HTTP劫持: (访问⾕歌但是⼀直有贪玩蓝⽉的⼴告),由于http明⽂传输,运营商会修改你的http响应内容(即加⼴告)")]),a("blockquote",[a("p",[s._v("防范：")]),a("p",[s._v("DNS劫持由于涉嫌违法，已经被监管起来，现在很少会有DNS劫持，⽽http劫持依然⾮常盛⾏，最有效的办法就是全站HTTPS，将HTTP加密，这使得运营商⽆法获取明⽂，就⽆法劫持你的响应内容。")])]),a("hr"),a("h2",[s._v("4.垃圾回收")]),a("ul",[a("li",[s._v("引用计数（之前） 循环引用时会出现问题")]),a("li",[s._v("标记清除（现在）")])])])])])}],X={},W=Object(p["a"])(X,$,V,!1,null,null,null),Z=W.exports,K=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},Y=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[s._v("页面性能优化")]),a("blockquote",[a("p",[s._v("编辑日期：2022.4.1")]),a("p",[s._v("参考文献：https://juejin.cn/post/6941278592215515143#heading-1")])]),a("hr"),a("h2",[s._v("1. CDN")]),a("p",[s._v("content delivery network，内容分发网络，通过互联技术将最靠近用户的服务器向用户响应请求资源，提高传输速度，降低成本；")]),a("p",[s._v("CDN作为一种基础的云服务，同样具有资源托管、按需扩展（能够应对流量高峰）等方面的优势。")]),a("blockquote",[a("p",[s._v("组成")])]),a("ul",[a("li",[s._v("分发服务系统")])]),a("p",[s._v("基本工作单元为cache设备，负责直接响应最终用户的需求，同时负责同步更新源站点的资源。")]),a("ul",[a("li",[s._v("负载均衡系统")])]),a("p",[s._v("负责对所有发起服务请求的用户进行调度；")]),a("ul",[a("li",[s._v("运营管理系统")])]),a("p",[s._v("负责处理业务层面的与外界系统交互所必须的收集、整理、交付工作")]),a("blockquote",[a("p",[s._v("作用")])]),a("ul",[a("li",[s._v("性能方面：用户响应速度提高，降低服务器负载")]),a("li",[s._v("安全方面：有助于防御DDOS（分布式拒绝服务攻击），监控分析异常流量，限制其访问频率；针对MIMS（Man-in-the-MiddleAttack，中间人攻击)，使用全链路 HTTPS 通信")])]),a("blockquote",[a("p",[s._v("原理")])]),a("p",[s._v("与DNS过程密不可分")]),a("p",[s._v("利用CDN专用DNS服务器在中间进行URl响应 "),a("img",{attrs:{src:"https://raw.githubusercontent.com/MoreCodeByTR/static-resources/master/imgs/HTTP/cdn.png",alt:"CDN响应过程"}})]),a("blockquote",[a("p",[s._v("使用场景")])]),a("ul",[a("li",[s._v("前端静态资源缓存")]),a("li",[s._v("直播流媒体推送，直播流媒体不会像静态资源逐层寻找，而是采用主动推送的方式进行；")])]),a("hr"),a("h2",[s._v("2.懒加载")]),a("p",[s._v("懒加载也叫做延迟加载、按需加载，指的是在长网页中延迟加载图片数据，是一种较好的网页性能优化的方式。")]),a("p",[s._v("能够提高网站的首屏加载速度，提升用户的体验，并且可以减少服务器的压力")]),a("blockquote",[a("p",[s._v("特点")])]),a("ul",[a("li",[s._v("减少无用资源加载")]),a("li",[s._v("提升用户体验")]),a("li",[s._v("防止过多图片加载影响其他文件加载")])]),a("blockquote",[a("p",[s._v("图片懒加载实现原理")])]),a("p",[s._v("利用元素的data-xxx自定义属性存储真正的图片src，当图片处于窗口可视位置时，使用js取出属性值赋给src进行加载；")]),a("blockquote",[a("p",[s._v("懒加载与预加载的区别")])]),a("ul",[a("li",[s._v("懒加载是延迟或者不加载，在用户需要的时候再进行访问；")]),a("li",[s._v("预加载是将可能需要访问的资源提前缓存再本地，待需要的时候直接从缓存获取响应；")])]),a("hr"),a("h2",[s._v("3. 使用webpack进行前端优化")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("压缩代码")]),s._v("：删除多余的代码、注释、简化代码的写法等等⽅式。可以利⽤webpack的 UglifyJsPlugin 和 ParallelUglifyPlugin 来压缩JS⽂件， 利⽤ cssnano （css-loader?minimize）来压缩css")]),a("li",[a("code",{pre:!0},[s._v("利⽤CDN加速")]),s._v(": 在构建过程中，将引⽤的静态资源路径修改为CDN上对应的路径。可以利⽤webpack对于 output 参数和各loader的 publicPath 参数来修改资源路径")]),a("li",[a("code",{pre:!0},[s._v("Tree Shaking")]),s._v(": 将代码中永远不会⾛到的⽚段删除掉。可以通过在启动webpack时追加参数 --optimize-minimize 来实现")]),a("li",[a("code",{pre:!0},[s._v("Code Splitting")]),s._v(": 将代码按路由维度或者组件分块(chunk),这样做到按需加载,同时可以充分利⽤浏览器缓存")]),a("li",[a("code",{pre:!0},[s._v("提取公共第三⽅库")]),s._v(": SplitChunksPlugin插件来进⾏公共模块抽取,利⽤浏览器缓存可以⻓期缓存这些⽆需频繁变动的公共代码")])]),a("blockquote",[a("p",[s._v("如何提高webpack的构建速度")])]),a("ul",[a("li",[s._v("多⼊⼝情况下，使⽤ CommonsChunkPlugin 来提取公共代码")]),a("li",[s._v("通过 externals 配置来提取常⽤库")]),a("li",[s._v("利⽤ DllPlugin 和 DllReferencePlugin 预编译资源模块 通过 DllPlugin 来对那些我们引⽤但是绝对不会修改的npm包来进⾏预编译，再通过 DllReferencePlugin 将预编译的模块加载进来。")]),a("li",[s._v("使⽤ Happypack 实现多线程加速编译")]),a("li",[s._v("使⽤ webpack-uglify-parallel 来提升 uglifyPlugin 的压缩速度。 原理上 webpack-uglify-parallel 采⽤了多核并⾏压缩来提升压缩速度")]),a("li",[s._v("使⽤ Tree-shaking 和 Scope Hoisting 来剔除多余代码")])]),a("hr"),a("h2",[s._v("4.垃圾回收")]),a("p",[s._v("JavaScript代码运行时，需要分配内存空间来储存变量和值。当变量不在参与运行时，就需要系统收回被占用的内存空间，这就是垃圾回收。")]),a("blockquote",[a("p",[s._v("垃圾回收方法")])]),a("p",[s._v("标记清除，引用计数")]),a("blockquote",[a("p",[s._v("减少垃圾回收")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("对数组进行优化")]),s._v("： 在清空一个数组时，最简单的方法就是给其赋值为[ ]，但是与此同时会创建一个新的空对象，可以将数组的长度设置为0，以此来达到清空数组的目的。")]),a("li",[a("code",{pre:!0},[s._v("对object进行优化")]),s._v("： 对象尽量复用，对于不再使用的对象，就将其设置为null，尽快被回收。")]),a("li",[a("code",{pre:!0},[s._v("对函数进行优化")]),s._v("： 在循环中的函数表达式，如果可以复用，尽量放在函数的外面。")])]),a("blockquote",[a("p",[s._v("可能引起内存泄漏的方式")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("意外的全局变量")]),s._v("： 由于使用未声明的变量，而意外的创建了一个全局变量，而使这个变量一直留在内存中无法被回收。")]),a("li",[a("code",{pre:!0},[s._v("被遗忘的计时器或回调函数")]),s._v("： 设置了 setInterval 定时器，而忘记取消它，如果循环函数有对外部变量的引用的话，那么这个变量会被一直留在内存中，而无法被回收。")]),a("li",[a("code",{pre:!0},[s._v("脱离 DOM 的引用")]),s._v("： 获取一个 DOM 元素的引用，而后面这个元素被删除，由于一直保留了对这个元素的引用，所以它也无法被回收。")]),a("li",[a("code",{pre:!0},[s._v("闭包")]),s._v("："),a("code",{pre:!0},[s._v("不合理的使用闭包")]),s._v("，从而导致某些变量一直被留在内存当中。")])])])])])}],Q={},ss=Object(p["a"])(Q,K,Y,!1,null,null,null),ts=ss.exports,as=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},es=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[s._v("ES6总结")]),a("blockquote",[a("p",[s._v("编辑日期：2022.4.21")]),a("p",[s._v("参考文献：https://es6.ruanyifeng.com/#docs/let")])]),a("hr"),a("h2",[s._v("1. let、const、var区别")]),a("blockquote",[a("p",[s._v("let、const")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("存在块级作用域")]),s._v(",块级作用域有暂时性死区，不能提前使用未声明变量")]),a("li",[a("code",{pre:!0},[s._v("不存在变量提升")]),s._v("，不允许声明前使用，否则会报错ReferenceError")]),a("li",[a("code",{pre:!0},[s._v("不允许")]),s._v("在相同作用域"),a("code",{pre:!0},[s._v("重复声明")]),s._v("变量")]),a("li",[s._v("let、const、class声明变量不属于顶层对象属性，var、function的全局变量会")])]),a("blockquote",[a("p",[s._v("块级作用域优势")])]),a("ul",[a("li",[s._v("解决条件、判断语句中var变量提升的问题")]),a("li",[s._v("替代匿名立即执行函数")]),a("li",[s._v("es6块级作用域需要有大括号包裹，否则报SyntaxError")])]),a("blockquote",[a("p",[s._v("const变量")])]),a("ul",[a("li",[s._v("const变量声明时必须初始化赋值，let不用")]),a("li",[s._v("const变量不可变，实际上是存入内存地址的数据不能改变，如果是值类型直接将值存入内存地址，如果是引用类型，则是存入的指针不能改变。至于所指向的引用对象，对象本身可以改变，增删属性都可以")]),a("li",[s._v("如果真的想将对象冻结，应该使用Object.freeze方法。")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" foo = "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Object")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("freeze")]),s._v("({});\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 常规模式时，下面一行不起作用；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 严格模式时，该行会报错")]),s._v("\nfoo."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("prop")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("123")]),s._v(";\n")])]),a("hr"),a("h2",[s._v("2.ES6声明变量的6种方式")]),a("ul",[a("li",[s._v("var")]),a("li",[s._v("function")]),a("li",[s._v("let")]),a("li",[s._v("const")]),a("li",[s._v("import")]),a("li",[s._v("class")])]),a("hr"),a("h2",[s._v("3.解构")]),a("p",[s._v("只要某种数据结构具有 Iterator 接口，都可以采用数组形式的解构赋值。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("* "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fibs")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" a = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" b = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("while")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("yield")]),s._v(" a;\n    [a, b] = [b, a + b];\n  }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" [first, second, third, fourth, fifth, sixth] = "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fibs")]),s._v("();\nsixth "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 5")]),s._v("\n")])]),a("blockquote",[a("p",[s._v("对象的解构")])]),a("p",[s._v("数组的解构赋值是按照顺序的，而对象的解构是按照属性名的")]),a("blockquote",[a("p",[s._v("解构的作用")])]),a("ul",[a("li",[s._v("交换变量值")]),a("li",[s._v("从函数返回多个值")]),a("li",[s._v("方便函数参数的定义")]),a("li",[s._v("提取JSON对象数据")]),a("li",[s._v("设置函数参数默认值")]),a("li",[s._v("遍历Map数据结构")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" map = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Map")]),s._v("();\nmap."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("set")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'first'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello'")]),s._v(");\nmap."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("set")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'second'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'world'")]),s._v(");\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" [key, value] "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("of")]),s._v(" map) {\n  "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(key + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('" is "')]),s._v(" + value);\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// first is hello")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// second is world")]),s._v("\n")])]),a("ul",[a("li",[s._v("输入指定加载模块")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("SourceMapConsumer")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("SourceNode")]),s._v(" } = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"source-map"')]),s._v(");\n")])]),a("hr"),a("h2",[s._v("4.模版字符串")]),a("ul",[a("li",[s._v("可以进行模版字符串嵌套")])]),a("hr"),a("h2",[s._v("5.函数扩展")]),a("ul",[a("li",[s._v("能够设置参数默认值 缺点是function的length属性只会统计未被设置默认值的参数数量，因此length会失真")])]),a("p",[s._v("length属性不包含rest参数")]),a("blockquote",[a("p",[s._v("rest参数")])]),a("p",[s._v("arguments对象不是数组，而是一个类似数组的对象。所以为了使用数组的方法，es6之前必须使用Array.from先将其转为数组。rest 参数就不存在这个问题，它就是一个真正的数组，")]),a("p",[s._v("rest参数设置后，后面不能设置其他参数")]),a("hr"),a("h2",[s._v("6.箭头函数")]),a("ul",[a("li",[a("p",[s._v("（1）箭头函数没有自己的this对象（详见下文）。")])]),a("li",[a("p",[s._v("（2）不可以当作构造函数，也就是说，不可以对箭头函数使用new命令，否则会抛出一个错误。")])]),a("li",[a("p",[s._v("（3）不可以使用arguments对象，该对象在函数体内不存在。如果要用，可以用 rest 参数代替。")])]),a("li",[a("p",[s._v("（4）不可以使用yield命令，因此箭头函数不能用作 Generator 函数。")])])]),a("hr"),a("h2",[s._v("7.尾调用优化（Tail call optimization）")]),a("p",[s._v("尾部调用的函数不依赖上一层函数， 即只保留内层函数的调用帧。如果所有函数都是尾调用，那么完全可以做到每次执行时，调用帧只有一项，这将大大节省内存。这就是“尾调用优化”的意义。")]),a("hr"),a("h2",[s._v("8.对象描述符")]),a("p",[s._v("目前，有四个操作会忽略enumerable为false的属性。")]),a("ul",[a("li",[s._v("for...in循环：只遍历对象自身的和继承的可枚举的属性。不含 Symbol 属性")]),a("li",[s._v("Object.keys()：返回对象自身的所有可枚举的属性的键名。")]),a("li",[s._v("JSON.stringify()：只串行化对象自身的可枚举的属性。")]),a("li",[s._v("Object.assign()： 忽略enumerable为false的属性，只拷贝对象自身的可枚举的属性。")])]),a("hr"),a("h2",[s._v("9.super 关键字")]),a("h2",[s._v("我们知道，this关键字总是指向函数所在的当前对象，ES6 又新增了另一个类似的关键字super，指向当前对象的原型对象。")]),a("h2",[s._v("10 Promise")]),a("blockquote",[a("p",[s._v("Promise.prototype.then()")])]),a("p",[s._v("then方法用于给promise状态发生变化时增加回调函数,其中第一个参数为resolve状态的回调函数，第二个参数为reject状态的回调函数")]),a("p",[s._v("then可以采用链式调用，将第一个回调函数的结果作为参数传递给第二个回调函数，如果返回的是Promise对象，则等待promise对象的状态发生改变再进行传递")]),a("blockquote",[a("p",[s._v("Promise.prototype.catch()")])]),a("p",[s._v("用于捕获promise内部错误，建议使用catch替代then里面的第二个error回调函数,catch方法返回的也是promise对象，后面可以接then")]),a("p",[s._v("promise内部错误会层层冒泡，直到被catch,若没有catch,也不会影响外部函数的执行，不会终止进程")]),a("blockquote",[a("p",[s._v("Promise.prototype.finally()")])]),a("p",[s._v("在promise执行完then、catch中的方法后无论promise状态是成功还是失败，都会执行finally")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("server."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("listen")]),s._v("(port)\n  ."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ...")]),s._v("\n  })\n  ."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("finally")]),s._v("(server."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("stop")]),s._v(");\n")])]),a("p",[s._v("finally函数不接受参数，finally方法总是会返回原来的值。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("finally")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("callback")]),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" P = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("constructor")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("(\n    "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("value")]),s._v("  =>")]),s._v(" P."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("resolve")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("callback")]),s._v("())."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" value),\n    "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("reason")]),s._v(" =>")]),s._v(" P."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("resolve")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("callback")]),s._v("())."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("throw")]),s._v(" reason })\n  );\n};\n")])]),a("blockquote",[a("p",[s._v("Promise.all")])]),a("ul",[a("li",[s._v("所有成功才成功，一个失败立即失败")])]),a("p",[s._v("如果Promise.all参数p自己定义了catch，那么错误不会被Promise.all的catch捕获，而且参数p的catch执行完后也会变成resolve")]),a("blockquote",[a("p",[s._v("Promise.race")])]),a("ul",[a("li",[s._v("谁的状态先改变就返回谁的，无论成功失败")])]),a("blockquote",[a("p",[s._v("Promise.allSettle")])]),a("ul",[a("li",[s._v("所有状态都完成才结束")])]),a("blockquote",[a("p",[s._v("Promise.any")])]),a("ul",[a("li",[s._v("当有一个成功时，返回成功，所有都失败才失败")])]),a("hr"),a("h2",[s._v("11.Itertator")]),a("blockquote",[a("p",[s._v("数组对象之间的转换")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" arrayLike = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'0'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'a'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'1'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'b'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'2'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'c'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("length")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ES6 的写法")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" arr2 = "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Array")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("from")]),s._v("(arrayLike); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ['a', 'b', 'c']")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" arr3=[...arrayLike] "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//报错，扩展运算符只能遍历iterable对象")]),s._v("\n\n")])]),a("blockquote",[a("p",[s._v("for...of")])]),a("p",[s._v("遍历具有iterator接口的对象，普通对象不行")]),a("p",[s._v("原生具备 Iterator 接口的数据结构如下。")]),a("ul",[a("li",[s._v("Array")]),a("li",[s._v("Map")]),a("li",[s._v("Set")]),a("li",[s._v("String")]),a("li",[s._v("TypedArray")]),a("li",[s._v("函数的 arguments 对象")]),a("li",[s._v("NodeList 对象")])]),a("p",[s._v("其他数据结构，都需要自己在Symbol.iterator属性上面部署,才能进行for...of操作，本质上是将非线性数据结构进行线性转换")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("RangeIterator")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("constructor")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("start, stop")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(" = start;\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("stop")]),s._v(" = stop;\n  }\n\n  ["),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Symbol")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("iterator")]),s._v("]() { "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("; }\n\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" value = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (value < "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("stop")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v("++;\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("done")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": value};\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("done")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("};\n  }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("range")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("start, stop")]),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("RangeIterator")]),s._v("(start, stop);\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" value "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("of")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("range")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(")) {\n  "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(value); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 0, 1, 2")]),s._v("\n}\n")])]),a("blockquote",[a("p",[s._v("调用Iterator的场合")])]),a("ul",[a("li",[a("p",[s._v("数组、set解构赋值")])]),a("li",[a("p",[s._v("扩展运算符 ...")])]),a("li",[a("p",[s._v("yield*后面跟的是一个可遍历的结构，它会调用该结构的遍历器接口。")])]),a("li",[a("p",[s._v("for...of")])]),a("li",[a("p",[s._v("Array.from()")])]),a("li",[a("p",[s._v("Map(), Set(), WeakMap(), WeakSet()（")])]),a("li",[a("p",[s._v("Promise.all()")])]),a("li",[a("p",[s._v("Promise.race()")])])]),a("blockquote",[a("p",[s._v("for...in缺点 for...in循环有几个缺点。")])]),a("ul",[a("li",[s._v("数组的键名是数字，但是for...in循环是以字符串作为键名“0”、“1”、“2”等等。")]),a("li",[s._v("for...in循环不仅遍历数字键名，还会遍历手动添加的其他键，甚至包括原型链上的键。")]),a("li",[s._v("某些情况下，for...in循环会以任意顺序遍历键名。")])]),a("blockquote",[a("p",[s._v("for...of优势")])]),a("ul",[a("li",[s._v("有着同for...in一样的简洁语法，但是没有for...in那些缺点。")]),a("li",[s._v("不同于forEach方法，它可以与break、continue和return配合使用。")]),a("li",[s._v("提供了遍历所有数据结构的统一操作接口。")])]),a("hr"),a("h2",[s._v("12.Generator")]),a("ul",[a("li",[s._v("Generator函数可以看作一个状态机，可以记录函数执行位置")]),a("li",[s._v("不能作为构造函数使用，其遍历器是genertaor函数的实例")])]),a("p",[s._v("yield表达式，就暂停执行后面的操作，并将紧跟在yield后面的那个表达式的值，作为返回的对象的value属性值。")]),a("p",[s._v("yield表达式后面的表达式，只有当调用next方法、内部指针指向该语句时才会执行")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("* "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("gen")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("yield")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("123")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("456")]),s._v(";\n}\n")])]),a("blockquote",[a("p",[s._v("与iterator的联系")])]),a("p",[s._v("由于 Generator 函数就是遍历器生成函数，因此可以把 Generator 赋值给对象的Symbol.iterator属性，从而使得该对象具有 Iterator 接口。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" myIterable = {};\nmyIterable["),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Symbol")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("iterator")]),s._v("] = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("* () {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("yield")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("yield")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("yield")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(";\n};\n\n[...myIterable] "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// [1, 2, 3]")]),s._v("\n")])]),a("blockquote",[a("p",[s._v("与上下文 JavaScript 代码运行时，会产生一个全局的上下文环境（context，又称运行环境），包含了当前所有的变量和对象。然后，执行函数（或块级代码）的时候，又会在当前上下文环境的上层，产生一个函数运行的上下文，变成当前（active）的上下文，由此形成一个上下文环境的堆栈（context stack）。")])]),a("blockquote",[a("p",[s._v("应用")])]),a("ul",[a("li",[s._v("异步操作同步化")]),a("li",[s._v("解决回调炼狱、then链式调用")]),a("li",[s._v("部署Iterator接口")]),a("li",[s._v("作为数据结构，提供类数组能力")])]),a("hr"),a("h2",[s._v("13.异步编程")]),a("ul",[a("li",[a("p",[s._v("promise将回调函数嵌套炼狱（callback hell），变成了链式调用")])]),a("li",[a("p",[s._v("promise的问题在于改进了回调函数的写法，代码非常冗余")])]),a("li",[a("p",[s._v("Thunk 函数 可以自动执行Generator 函数，传入执行next的回调函数")])]),a("li",[a("p",[s._v("co模块也是用于自动执行generator,返回Promise对象")])])]),a("p",[s._v("generator函数要想自动执行，必须有一种机制在异步操作有结果后将执行权交回给generator，回调函数、promise的then方法都可以；")]),a("p",[s._v("co 模块其实就是将两种自动执行器（Thunk 函数和 Promise 对象），包装成一个模块。使用 co 的前提条件是，Generator 函数的yield命令后面，只能是 Thunk 函数或 Promise 对象。如果数组或对象的成员，全部都是 Promise 对象，也可以使用 co；")]),a("hr"),a("h2",[s._v("14.async、await")]),a("p",[s._v("async、await是generator函数的语法糖，用async替代*，用await替代yield")]),a("p",[s._v("async的优势")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("内置generator执行器")])]),a("li",[a("code",{pre:!0},[s._v("更好的语义")])]),a("li",[a("code",{pre:!0},[s._v("适用性更广")]),s._v("； co模块约定，yield命令后面只能是 Thunk 函数或 Promise 对象，而async函数的await命令后面，可以是 Promise 对象和原始类型的值（数值、字符串和布尔值，但这时会自动转成立即 resolved 的 Promise 对象）。")]),a("li",[a("code",{pre:!0},[s._v("返回值是Promise")]),s._v(" async函数的返回值是 Promise 对象，这比 Generator 函数的返回值是 Iterator 对象方便多了。你可以用then方法指定下一步的操作。")])]),a("blockquote",[a("p",[s._v("使用注意点")])]),a("ul",[a("li",[s._v("不能放在foreach中执行，因为是foreach中是并发执行的")])]),a("hr"),a("h2",[s._v("15.class")]),a("ul",[a("li",[s._v("class内部是严格模式")]),a("li",[s._v("class声明的函数不存在变量提升，不能在未定以前使用")]),a("li",[s._v("单独将class内部方法解构出来使用，注意this的绑定，可以在构造函数中进行bind,或者在定义时使用箭头函数定义")])]),a("blockquote",[a("p",[s._v("静态方法")])]),a("p",[s._v("使用static关键字进行声明，通过类直接访问")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Foo")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("classMethod")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello'")]),s._v(";\n  }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Foo")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("classMethod")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 'hello'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" foo = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Foo")]),s._v("();\nfoo."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("classMethod")]),s._v("()\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// TypeError: foo.classMethod is not a function")]),s._v("\n")])]),a("p",[s._v("如果静态方法包含this关键字，这个this指的是类，而不是实例。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Foo")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("bar")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("baz")]),s._v("();\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("baz")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello'")]),s._v(");\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("baz")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'world'")]),s._v(");\n  }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Foo")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("bar")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// hello")]),s._v("\n")])]),a("p",[s._v("静态方法可以和非静态方法重名")]),a("p",[s._v("子类可以继承父类的静态方法")]),a("blockquote",[a("p",[s._v("静态属性")])]),a("p",[s._v("目前静态属性的定义是通过外部赋值定义，static内部定义正在提案")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Foo")]),s._v(" {\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Foo")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("prop")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n")])]),a("blockquote",[a("p",[s._v("私有属性、私有方法")])]),a("p",[s._v("只能在类的内部进行访问，目前没有正式方法实现，只有一些替代方案，例如对方法命名上做一些调整，尽可能不让外部拿到，如Symbol进行定义函数名称，但不是绝对安全，Reflect.ownkey()依旧能够获取到Symbol名称")]),a("hr"),a("h2",[s._v("16. class继承")]),a("p",[s._v("class子类必须在constructor()方法中调用super()，否则就会报错。这是因为子类自己的this对象，必须先通过父类的构造函数完成塑造，得到与父类同样的实例属性和方法，然后再对其进行加工，添加子类自己的实例属性和方法。如果不调用super()方法，子类就得不到自己的this对象。")]),a("p",[s._v("为什么子类的构造函数，一定要调用super()？原因就在于 ES6 的继承机制，与 ES5 完全不同。ES5 的继承机制，是先创造一个独立的子类的实例对象，然后再将父类的方法添加到这个对象上面，即“实例在前，继承在后”。ES6 的继承机制，则是先将父类的属性和方法，加到一个空的对象上面，然后再将该对象作为子类的实例，即“继承在前，实例在后”。这就是为什么 ES6 的继承必须先调用super()方法，因为这一步会生成一个继承父类的this对象，没有这一步就无法继承父类。")]),a("p",[a("code",{pre:!0},[s._v("除了私有属性，父类的所有属性和方法，都会被子类继承，其中包括静态方法。")])]),a("blockquote",[a("p",[s._v("super")])]),a("ul",[a("li",[s._v("super作为函数调用时，代表父类的构造函数")]),a("li",[s._v("super()内部的this指向的是子类")]),a("li",[s._v("uper作为对象时，在普通方法中，指向父类的原型对象；在静态方法中，指向父类。")])]),a("hr"),a("h2",[s._v("17.模块化")]),a("p",[s._v("conmmonjs用于服务器，AMD用于浏览器，都是在函数运行时才能确定对象，commonjs支持动态加载")]),a("p",[s._v("commonjs实际上对整个引入模块的加载，然后确定自己想要的")]),a("p",[s._v("ES6模块可以做到编译时确定依赖关系，能够做到静态优化，效率更高")]),a("p",[s._v("编译时加载的好处是能够进行静态分析，比如引入宏、类型检查这些只能依靠静态分析实现的功能。")]),a("p",[s._v("ES6模块的其他优点")]),a("ul",[a("li",[a("p",[s._v("能够在服务器和浏览器都使用，兼容性好")])]),a("li",[a("p",[s._v("未来浏览器的新API可以通过模块格式提供，不需要进行全局变量")])]),a("li",[a("p",[s._v("不再需要对象作为命名空间（比如Math对象）")])]),a("li",[a("p",[s._v("ES6模块默认采用严格模式")])])]),a("blockquote",[a("p",[s._v("模块使用 import、export")])]),a("ul",[a("li",[s._v("import、export只能出现在模块顶层作用域，不能出现在块级作用域内部，不然就无法进行静态编译了")]),a("li",[s._v("CommonJS 模块输出的是值的缓存，ES6模块是输入对值的引用，存在动态更新")]),a("li",[s._v("import命令输入的变量都是只读的，因为它的本质是输入接口。也就是说，不允许在加载模块的脚本里面，改写接口。可以理解为指针不能变，但是如果指针是引用类型的话，可以更改他的属性")]),a("li",[s._v("import命令具有提升效果，会提升到整个模块的头部，首先执行。因为import命令是编译阶段执行的，在代码运行之前。")]),a("li",[s._v("import语句会执行所加载的模块，多次引用一个模块，只会执行一次")])]),a("hr"),a("h2",[s._v("18. 模块加载")]),a("blockquote",[a("p",[s._v("浏览器")])]),a("p",[s._v("浏览器加载 ES6 模块，也使用 "),a("code",{pre:!0},[s._v("<script>")]),s._v('标签，但是要加入type="module"属性')]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<script type="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"module"')]),s._v(" src="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"./foo.js"')]),s._v("><\/script>\n")])]),a("p",[s._v("浏览器识别到module类型统一按照类似defer标签异步加载，不会阻塞DOM解析，多个能够按照顺序执行")]),a("p",[s._v("模块脚本的几个特点")]),a("ul",[a("li",[s._v("代码是在模块作用域之中运行，而不是在全局作用域运行。模块内部的顶层变量，外部不可见。")]),a("li",[s._v("模块脚本自动采用严格模式，不管有没有声明use strict。")]),a("li",[s._v("模块之中，可以使用import命令加载其他模块（.js后缀不可省略，需要提供绝对 URL 或相对 URL），也可以使用export命令输出对外接口。")]),a("li",[s._v("模块之中，顶层的this关键字返回undefined，而不是指向window。也就是说，在模块顶层使用this关键字，是无意义的。")]),a("li",[s._v("同一个模块如果加载多次，将只执行一次。")])]),a("h3",[a("code",{pre:!0},[s._v("ES6 模块与 CommonJS 模块的差异")])]),a("ul",[a("li",[s._v("CommonJS 模块输出的是一个值的浅拷贝，ES6 模块输出的是值的引用。")]),a("li",[s._v("CommonJS 模块是运行时加载，ES6 模块是编译时输出接口。")]),a("li",[s._v("CommonJS 模块的require()是同步加载模块，ES6 模块的import命令是异步加载，有一个独立的模块依赖的解析阶段。")]),a("li",[s._v("CommonJS 模块是 Node.js 专用的，与 ES6 模块不兼容。语法上面，两者最明显的差异是，CommonJS 模块使用require()和module.exports，ES6 模块使用import和export。")])]),a("p",[s._v("CommonJS 模块输出的是值的拷贝，也就是说，一旦输出一个值，模块内部的变化就影响不到这个值。")]),a("p",[s._v("export通过接口，输出的是同一个值。不同的脚本加载这个接口，得到的都是同样的实例。")]),a("blockquote",[a("p",[s._v("循环加载")])]),a("ul",[a("li",[s._v("CommonJS 模块遇到循环加载时，返回的是当前已经执行的部分的值，而不是代码全部执行后的值，")]),a("li",[s._v("ES6 处理“循环加载”，一步步执行找不到动态引用的值会报错")])]),a("hr"),a("h2",[s._v("19.严格模式特点")]),a("ul",[a("li",[s._v("变量必须声明后再使用")]),a("li",[s._v("函数的参数不能有同名属性，否则报错")]),a("li",[s._v("不能使用with语句")]),a("li",[s._v("不能对只读属性赋值，否则报错")]),a("li",[s._v("不能使用前缀 0 表示八进制数，否则报错")]),a("li",[s._v("不能删除不可删除的属性，否则报错")]),a("li",[s._v("不能删除变量delete prop，会报错，只能删除属性delete global[prop]")]),a("li",[s._v("eval不会在它的外层作用域引入变量")]),a("li",[s._v("eval和arguments不能被重新赋值")]),a("li",[s._v("arguments不会自动反映函数参数的变化")]),a("li",[s._v("不能使用arguments.callee")]),a("li",[s._v("不能使用arguments.caller")]),a("li",[s._v("禁止this指向全局对象")]),a("li",[s._v("不能使用fn.caller和fn.arguments获取函数调用的堆- 栈")]),a("li",[s._v("增加了保留字（比如protected、static和interface）")])]),a("hr"),a("h2",[s._v("20. map和object的区别")]),a("p",[s._v("1、Object的键只能是字符串或者Symbol，而Map的键可以是任意值。")]),a("p",[s._v("2、Map中的键值是有序的（FIFO），而Object中的键是无序的。")]),a("p",[s._v("3、Map中的键值个数可以从size属性中获取，而Object中的键值只能手动获取。")]),a("blockquote",[a("p",[s._v("map大量数据取前十个元素")])]),a("p",[s._v("借用symbol.iterator接口，使用keys()、values()、entries()的next().value获取值")])])])])}],rs={},ls=Object(p["a"])(rs,as,es,!1,null,null,null),ns=ls.exports,ps=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},_s=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[s._v("前端基础")]),a("blockquote",[a("p",[s._v("编辑日期：2022.5.2")]),a("p",[s._v("参考文献：http://www.ruanyifeng.com/blog/2016/04/cors.html")])]),a("hr"),a("h2",[s._v("1. Ajax、Fetch、Axios的区别")]),a("p",[s._v("三种不同维度的东西")]),a("ul",[a("li",[s._v("ajax")])]),a("p",[s._v("异步js and xml是一种技术的统称")]),a("ul",[a("li",[s._v("fetch")])]),a("p",[s._v("浏览器原生API，与XMLHttpRequest同级别，简洁易用，支持Promise,可实现Ajax")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("fetch(url).then(res=>res.json)\n")])]),a("ul",[a("li",[s._v("Axios")])]),a("p",[s._v("是第三方用于网络请求库，内部可以使用XMLHttpRequest、fetch来实现")]),a("blockquote",[a("p",[s._v("XHR readystate的含义")])]),a("ul",[a("li",[s._v("0: 还没调用open方法")]),a("li",[s._v("1: 未调用send方法，也就是还没发送数据给服务器")]),a("li",[s._v("2: 还没有接收到响应")]),a("li",[s._v("3: 开始接收到了部分数据")]),a("li",[s._v("4: 接收完成，数据可以在客户端使用了")])]),a("hr"),a("h2",[s._v("2.使用XHR实现Ajax请求")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("ajax")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("url,cb")]),s._v("){\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" xhr="),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("XMLHttpRequest")]),s._v("()\n    xhr."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("open")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"GET"')]),s._v(",url,"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(");\n    xhr."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("onreadystatechange")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(xhr."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("readyState")]),s._v("=="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(xhr."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("status")]),s._v("=="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")]),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("cb")]),s._v("(xhr."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("responseText")]),s._v(")\n            }\n        }\n    }\n\n\n    xhr."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("send")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(")\n}\n\n")])]),a("hr"),a("h2",[s._v("3.防抖和节流")]),a("h3",[s._v("3.1 防抖")]),a("p",[s._v("当持续触发事件时，一定时间段内没有再触发事件，事件处理函数才会执行一次。 "),a("code",{pre:!0},[s._v("限制执行次数")])]),a("blockquote",[a("p",[s._v("使用场景")])]),a("ul",[a("li",[s._v("键盘停止输入时进行搜索")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("debounce")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("fn,delay="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")])]),s._v("){\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" timer="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(timer){\n            "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("clearTimeout")]),s._v("(timer)\n        }\n        timer="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("setTimeout")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n            fn."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("apply")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(",args)\n        },delay)\n    }\n\n}\n\n")])]),a("h3",[s._v("3.2 节流")]),a("p",[s._v("当持续触发事件时，保证在一定时间内只调用一次事件处理函数 "),a("code",{pre:!0},[s._v("限制执行频率")])]),a("blockquote",[a("p",[s._v("使用场景")])]),a("ul",[a("li")]),a("p",[s._v("有定时器和时间戳两种实现方式")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//定时器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 缺陷第一次不会立即执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("throttle")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("fn,delay="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")])]),s._v("){\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" timer="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(timer){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("\n        }\n        timer="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("setTimeout")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n            fn."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("apply")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(",args)\n            timer="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n        },delay)\n    }\n\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//时间戳")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 缺陷，最后一次不会执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("timeThrottle")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("fn,delay="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")])]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" preTime="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("now")]),s._v("()\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" currentTime="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("now")]),s._v("();\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(currentTime-preTime>delay){\n            fn."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("apply")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(",args)\n            preTime="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("now")]),s._v("()\n        }\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("\n    }\n}\n\n")])]),a("h2",[s._v("4.px、%、em、rem、vw、vh")]),a("ul",[a("li",[s._v("px是绝对单位")]),a("li",[s._v("%相对于父元素大小")]),a("li",[s._v("em 相对于当前元素的font-size")]),a("li",[s._v("rem 相对于根元素的font-size")]),a("li",[s._v("vw 屏幕宽度的1%")]),a("li",[s._v("vh 屏幕高度的1%")]),a("li",[s._v("vmin两者的最小值，vmax两者的最大值")])]),a("hr"),a("h2",[s._v("5.箭头函数的缺点")]),a("ul",[a("li",[s._v("没有arguments参数，可以使用 ...args 代替;")]),a("li",[s._v("无法更改this的指向")]),a("li",[s._v("箭头函数没有 prototype 属性，不能进行 new 实例化")])]),a("blockquote",[a("p",[s._v("不适用的情形")])]),a("ul",[a("li",[s._v("对象方法")]),a("li",[s._v("对象原型")]),a("li",[s._v("构造函数")]),a("li",[s._v("动态上下文的回调函数")]),a("li",[s._v("不能在vue的生命周期中使用，因为vue组件是对象，react组件是函数或者class，可以使用")])]),a("hr"),a("h2",[s._v("6.TCP三次握手、四次挥手")]),a("blockquote",[a("p",[s._v("建立TCP连接")])]),a("ul",[a("li",[s._v("先建立连接")]),a("li",[s._v("再传输内容")]),a("li",[s._v("网络连接是TCP协议，传输内容是HTTP协议")])]),a("blockquote",[a("p",[s._v("三次握手，建立连接")])]),a("ul",[a("li",[s._v("客户端发送请求告知想要建立连接")]),a("li",[s._v("服务端响应，通知客户端做好准备")]),a("li",[s._v("客户端接收通知，告知即将准备发送")])]),a("blockquote",[a("p",[s._v("四次挥手，断开请求")])]),a("ul",[a("li",[s._v("客户端发包，告知想断开请求")]),a("li",[s._v("服务端接收，表示已收到，等待数据发送完毕")]),a("li",[s._v("服务端通知，数据发送完毕，可以关闭请求")]),a("li",[s._v("客户端确认收到服务端通知，服务端断开请求")])]),a("hr"),a("h2",[s._v("7. for...in 和for...of区别")]),a("blockquote",[a("p",[s._v("for...in")])]),a("p",[s._v("遍历得到的是key")]),a("blockquote",[a("p",[s._v("for...of")])]),a("p",[s._v("遍历得到value")]),a("blockquote",[a("p",[s._v("适用于不同的数据类型")])]),a("ul",[a("li",[s._v("对象：for..in可以，for...of不行")]),a("li",[s._v("map、set：for..of可以，for...in不行")]),a("li",[s._v("generator：for..of可以，for...in不行")])]),a("blockquote",[a("p",[s._v("可枚举、可迭代")])]),a("ul",[a("li",[s._v("for...in适用于可枚举的数据，如对象、数组、字符串 （包含enumerable:true）")]),a("li",[s._v("for...of适用于可迭代的数据，如数组、字符串、map、set (包含Symbol.iterator)")])]),a("blockquote",[a("p",[s._v("for await ..of")])]),a("p",[s._v("可以代替Promise.all，与异步有关")]),a("hr"),a("h2",[s._v("8.offsetHeight、scrollHeight、clientHeight")]),a("p",[s._v("box-sizing : content-box|border-box|inherit;")]),a("p",[s._v("默认 content width只包含content，不包含padding、borderborder")]),a("blockquote",[a("p",[s._v("offsetHeight border+padding+content")])]),a("blockquote",[a("p",[s._v("clientHeight padding+content")])]),a("blockquote",[a("p",[s._v("scrollHeight padding+实际内容尺寸")])]),a("hr"),a("h2",[s._v("9.Node和Dom")]),a("p",[s._v("Node 是一个接口，各种类型的 DOM API 对象会从这个接口继承。")]),a("p",[s._v("以下接口都从 Node 继承其方法和属性：")]),a("p",[s._v("Document, Element, Attr, CharacterData (which Text, Comment, and CDATASection inherit), ProcessingInstruction (en-US), DocumentFragment, DocumentType, Notation, Entity, EntityReference")]),a("hr"),a("h2",[s._v("10. Vue computed和watch")]),a("blockquote",[a("p",[s._v("computed")])]),a("p",[s._v("用于计算产生新的数据")]),a("p",[s._v("（computed有缓存，依赖计算的值，methods没有缓存）")]),a("blockquote",[a("p",[s._v("watch")])]),a("p",[s._v("用于监听现有数据")]),a("hr"),a("h2",[s._v("11.Vue组件通讯")]),a("ul",[a("li",[s._v("props、$emit")])]),a("p",[s._v("适用于父子组件")]),a("ul",[a("li",[s._v("自定义事件，emit、on、off,使用第三方库")])]),a("p",[s._v("适用于不相关的组件通讯")]),a("ul",[a("li",[s._v("$attrs")])]),a("p",[s._v("是props和$emit的候补，可以处理未定义的props 跟层级中是不是只有一个节点有关系，一个节点就能接收attrs")]),a("ul",[a("li",[s._v("$parent、$ref")])]),a("p",[s._v("$parent获取父节点的属性,$ref获取子组件的属性")]),a("ul",[a("li",[s._v("provide、inject")])]),a("p",[s._v("在上级传入provide，在需要引入的层级进行inject,不需要一层层传递")]),a("ul",[a("li",[s._v("vuex")])]),a("hr"),a("h2",[s._v("12.vuex中mutation和action的区别")]),a("ul",[a("li",[s._v("mutation 原子操作，必须是同步代码")]),a("li",[s._v("action 可包含多个mutation,可包含异步代码")])]),a("hr"),a("h2",[s._v("13.js严格模式的特点")]),a("p",[s._v("js设计比较简单，有许多地方不完善")]),a("blockquote",[a("p",[s._v("严格模式开启")])]),a("p",[s._v("use strict")]),a("ul",[a("li",[s._v("全局开启")]),a("li",[s._v("单个函数内部开启")])]),a("blockquote",[a("p",[s._v("特点")])]),a("ul",[a("li",[s._v("全局变量必须声明")]),a("li",[s._v("禁止使用with语句")]),a("li",[s._v("创建eval作用域，eval语句有自己的作用域，不推荐使用eval")]),a("li",[s._v("禁止this指向window")]),a("li",[s._v("函数的参数不能重复")])]),a("hr"),a("h2",[s._v("14.垃圾回收")]),a("p",[s._v("weakset、weakmap建立弱引用，不影响垃圾回收")]),a("hr"),a("h2",[s._v("15.浏览器事件循环eventloop")]),a("ul",[a("li",[s._v("宏任务：setTimeout,setInterval,网络请求")]),a("li",[s._v("微任务：Promise.then async/await")])]),a("p",[s._v("同步代码率先执行，创建宏任务与微任务两个队列 微任务在Dom渲染前完成，宏任务在Dom渲染后完成")]),a("p",[s._v("微任务-> DOM渲染 ->宏任务")]),a("hr"),a("h2",[s._v("16.nodejs事件循环")]),a("p",[s._v("任务存在优先级，类型")]),a("blockquote",[a("p",[s._v("微任务")])]),a("ul",[a("li",[s._v("promise.then、async/await、process.nextTick")]),a("li",[s._v("process.nextTick优先级在微任务中最高")])]),a("blockquote",[a("p",[s._v("宏任务，优先级从上到下")])]),a("ul",[a("li",[s._v("Timers --setTimeout、setInterval")]),a("li",[s._v("check检查，存储setImmediate")]),a("li",[s._v("...")])]),a("p",[s._v("同步代码->微任务（nextTick优先级最高）->宏任务（六种类型）（结束时执行当前微任务）")]),a("hr"),a("h2",[s._v("17.vdom（虚拟Dom）")]),a("p",[s._v("vue、react的优势")]),a("ul",[a("li",[s._v("组件化")]),a("li",[s._v("数据驱动视图")])]),a("p",[s._v("vdom没有js直接操作dom快，但是数据驱动视图不能全部进行DOM重建，vdom比较适合数据驱动视图模型")]),a("hr"),a("h2",[s._v("18. for和forEach哪个速度快")]),a("p",[s._v("时间复杂度都是O(n)，for更快，")]),a("p",[s._v("for无需初始化函数,foreach需要，foreach每次都要初始化函数，需要独立作用域，需要多余的开销")]),a("p",[s._v("foreach的可读性更好")]),a("hr"),a("h2",[s._v("19. 进程（process）和线程（thread）")]),a("ul",[a("li",[s._v("进程，OS进行资源分配和调度的最小单位，有独立的内存空间，进程之间相互独立")]),a("li",[s._v("线程，OS进行运算调度的最小单位，共享进程内存空间")])]),a("p",[s._v("js是单线程的，但是可以开启多个进程执js，webworker")]),a("p",[s._v("多进程更好的利用计算机CPU,单个进程内存有限制")]),a("blockquote",[a("p",[s._v("node如何开启多进程？")])]),a("ul",[a("li",[s._v("child-process模块fork进行子进程创建，监听")]),a("li",[s._v("cluster模块，进行fork开启多个子进程，多个服务，子进程共享一个TCP链接")])]),a("hr"),a("h2",[s._v("20. JS Bridge")]),a("p",[s._v("js无法直接调用native API，需要借助媒介进行调用；")]),a("p",[s._v("js bridge是对native api的封装")]),a("ul",[a("li",[s._v("Url scheme方式，自定义协议（推荐）")]),a("li",[s._v("注册全局api，webview是app的一个组件（不推荐）")])]),a("hr"),a("h2",[s._v("21. requestIdleCallback、requestAnimationFrame")]),a("p",[s._v("都是在DOM渲染后执行，是宏任务")]),a("ul",[a("li",[s._v("requestAnimationFrame每次渲染后才执行，高优先级")]),a("li",[s._v("requestIdleCallback 渲染后有空闲时间才执行，低优")])]),a("hr"),a("h2",[s._v("22. react、vue、diff不同")]),a("p",[s._v("原始树 时间复杂度On3")]),a("ul",[a("li",[s._v("react、vue只做同级比较，tag不同则删除")]),a("li",[s._v("react diff 仅向右移动")]),a("li",[s._v("vue2 diff 双指针，新旧dom四个指针，双端比较")]),a("li",[s._v("vue3 vue2基础上最长递增子序列")])]),a("blockquote",[a("p",[s._v("为什么使用key 根据key来判断是否删除重建还是仅仅移动")])]),a("hr"),a("h2",[s._v("23.浏览器和nodejs的事件循环有什么不同")]),a("p",[s._v("https://zhuanlan.zhihu.com/p/409122435 https://blog.csdn.net/qq_41257129/article/details/100743394")]),a("ul",[a("li",[a("p",[s._v("浏览器和Node 环境下，microtask 任务队列的执行时机不同")])]),a("li",[a("p",[s._v("Node端，microtask 在事件循环的各个阶段之间执行 浏览器端，microtask 在事件循环的 macrotask 执行完之后执行")])])]),a("hr"),a("h2",[s._v("24.语义化理解")]),a("ul",[a("li",[s._v("结构清晰，可维护性强")]),a("li",[s._v("有利于SEO")]),a("li",[s._v("有利于不同的设备识别")])]),a("hr"),a("h2",[s._v("25 redux、mobx区别")]),a("ul",[a("li",[s._v("Redux要解决的问题是统一数据流，数据流完全可控并可追踪。要实现该目标，便需要进行相关的约束")]),a("li",[s._v("Redux由此引出dispatch action reducer等概念，对state的概念进行强约束，然而对于一些项目来说，太过强，便失去了灵活性。Mobx便是填补此空缺的")]),a("li",[s._v("redux将数据保存在单一的store中，mobx将数据保存在分散的多个store中")]),a("li",[s._v("redux使用plain object保存数据，需要手动处理变化后的操作；mobx使用observable保存数据，数据变化后自动处理响应的操作")]),a("li",[s._v("redux使用不可变状态，这意味着状态是只读的，不能直接去修改它，而是应该返回一个新的状态，同时使用纯函数；mobx中的状态是可变的，可以直接对其进行修改")]),a("li",[s._v("mobx相对来说比较简单，在其中有很多的抽象，mobx更多的使用面向对象的编程思维；redux会比较复杂，因为其中的函数式编程思想掌握起来不是那么容易，同时需要借助一系列的中间件来处理异步和副作用")]),a("li",[s._v("mobx中有更多的抽象和封装，调试会比较困难，同时结果也难以预测；而redux提供能够进行时间回溯的开发工具，同时其纯函数以及更少的抽象，让调试变得更加的容易")]),a("li",[s._v("使用mobx的react 感觉很像vue")])]),a("hr"),a("h2",[s._v("26 React事件和原生事件区别")]),a("p",[s._v("https://blog.csdn.net/kelly0721/article/details/117259877")]),a("blockquote",[a("p",[s._v("合成事件优势")])]),a("ul",[a("li",[s._v("抹平不同"),a("code",{pre:!0},[s._v("浏览器")]),s._v("之间的"),a("code",{pre:!0},[s._v("兼容性")]),s._v("差异。最主要的动机。")]),a("li",[s._v('事件"合成"，即'),a("code",{pre:!0},[s._v("事件自定义")]),s._v("。事件合成既可以处理兼容性问题，也可以用来自定义事件（例如 React 的 onChange 事件）。")]),a("li",[s._v("提供一个抽象跨平台事件机制。类似 VirtualDOM 抽象了跨平台的渲染方式，合成事件（SyntheticEvent）提供一个"),a("code",{pre:!0},[s._v("抽象的跨平台事件机制")]),s._v("。")]),a("li",[s._v("可以做更多优化。例如利用事件委托机制，几乎所有事件的触发都代理到了 document，而不是 DOM 节点本身，简化了 DOM 事件处理逻辑，"),a("code",{pre:!0},[s._v("减少了内存开销")]),s._v("。（React 自身模拟了一套事件冒泡的机制）")]),a("li",[a("code",{pre:!0},[s._v("可以干预事件的分发")]),s._v("。V16引入 Fiber 架构，React 可以通过干预事件的分发以优化用户的交互体验。")])]),a("p",[s._v("注：「几乎」所有事件都代理到了 document，说明有例外，比如audio、video标签的一些媒体事件（如 onplay、onpause 等），是 document 所不具有，这些事件只能够在这些标签上进行事件进行代理，但依旧用统一的入口分发函数（dispatchEvent）进行绑定。")]),a("p",[s._v("React 的事件注册过程主要做了两件事：document 上注册、存储事件回调。")]),a("blockquote",[a("p",[s._v("与原生事件区别")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("写法不同")]),s._v("（react驼峰）")]),a("li",[a("code",{pre:!0},[s._v("阻止默认不同")]),s._v("（react使用 React 中必须调用 preventDefault）")]),a("li",[a("code",{pre:!0},[s._v("监听机制不同")]),s._v("（reacth合成事件没有绑定在真实DOM节点上，所有事件注册在document上，利用事件的冒泡进行分发执行）")]),a("li",[a("code",{pre:!0},[s._v("触发时机不同")]),s._v("（原生事件在react事件之前触发）")])]),a("hr"),a("h2",[s._v("27. React、Vue比较")]),a("blockquote",[a("p",[s._v("相同点")])]),a("ul",[a("li",[s._v("组件化")]),a("li",[s._v("数据驱动视图")]),a("li",[s._v("都使用虚拟DOM")]),a("li",[s._v("能够提升开发效率，可持续开发")])]),a("blockquote",[a("p",[s._v("区别")])]),a("ul",[a("li",[s._v("语法上：JSX和模板")]),a("li",[s._v("虚拟DOM的Diff算法不同")]),a("li",[s._v("react趋向与函数式编程，vue声明式编程")]),a("li",[s._v("react数据是单向的，vue支持数据双向绑定")]),a("li",[s._v("vue是mvvm框架内置功能较多，react是UI层级框架，可扩展性更强")])]),a("hr"),a("h2",[s._v("28.TypeScript优点")]),a("ul",[a("li",[s._v("ts是js的超集，给js增加了可选的静态类型和基于类的面向对象的编程")]),a("li",[s._v("ts在编译时会有错误提示，js在运行时才能暴露错误")]),a("li",[s._v("ts是强类型语言，强制定义各种数据的类型，可读性强")])]),a("blockquote",[a("p",[s._v("缺点")])]),a("ul",[a("li",[s._v("学习成本，项目初期时间成本")]),a("li",[s._v("与现有部分工具（框架、库）的兼容性问题")])]),a("hr"),a("h2",[s._v("29. flex布局")]),a("p",[s._v("http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html?utm_source=tuicool")]),a("h3",[s._v("29.1 容器属性")]),a("ul",[a("li",[s._v("flex-direction")]),a("li",[s._v("flex-wrap")]),a("li",[s._v("flex-flow")]),a("li",[s._v("justify-content")]),a("li",[s._v("aligin-items")]),a("li",[s._v("aligin-content")])]),a("blockquote",[a("p",[s._v("flex-direction: row(默认)｜row-reverse | column | column-reverse")])]),a("blockquote",[a("p",[s._v("flex-wrap: nowrap(默认)｜wrap | wrap-reverse")])]),a("p",[s._v("默认不换行，子元素超出时，主轴方向超出会压缩，交叉轴方向超出会溢出父容器")]),a("blockquote",[a("p",[s._v("flex-flow : row nowrap(默认)")])]),a("p",[s._v("flex-direction、flex-wrap的合集")]),a("blockquote",[a("p",[s._v("justify-content: flex-start(默认) | flex-end | center | space-between | space-around;")])]),a("p",[s._v("定义主轴方向对齐 space-between：两端对齐，项目间间隔相等 space-around：每个项目两侧间隔相等，两端与项目间隔是项目之间一半")]),a("blockquote",[a("p",[s._v("align-items: flex-start | flex-end | center | baseline | stretch(默认);")])]),a("p",[s._v("定义在交叉轴方向的对齐,子项目没有设置高度大小或者为auto时，其高度将充满父元素")]),a("p",[s._v("baseline: 项目第一行文字的基线对齐")]),a("blockquote",[a("p",[s._v("align-content: flex-start | flex-end | center | space-between | space-around | stretch(默认);")])]),a("p",[s._v("定义有多根主轴时（也就是不止一行），交叉轴几行元素的对齐，针对一行元素不起作用")]),a("h3",[s._v("29.2 项目属性")]),a("ul",[a("li",[s._v("order")]),a("li",[s._v("flex-grow")]),a("li",[s._v("flex-shrink")]),a("li",[s._v("flex-basis")]),a("li",[s._v("flex")]),a("li",[s._v("align-self")])]),a("blockquote",[a("p",[s._v("order: 0(默认)")])]),a("p",[s._v("定义元素的排序，数值越小越靠前")]),a("blockquote",[a("p",[s._v("flex-grow: 0 (默认)")])]),a("p",[s._v("定义项目的放大比例，定义容器有多余空间时的分配，按照定义了该属性的百分比")]),a("blockquote",[a("p",[s._v("flex-shrink: 1 (默认)")])]),a("p",[s._v("flex-shrink:0 则空间不够不收缩，不收缩总宽超过容器则溢出")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.")]),s._v("首先根据项目的flex-basic计算需要收缩的大小\n"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2.")]),s._v("计算总的大小，flex-shrink*width,shrink默认为"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3.")]),s._v("计算每个项目需要收缩的大小，也就是shrink的占比*收缩总大小\n")])]),a("blockquote",[a("p",[s._v("flex-basis auto(默认)")])]),a("p",[s._v("默认和项目宽高一致，定义项目在主轴方向在分配多余空间之前占据的大小")]),a("blockquote",[a("p",[s._v("flex 0 1 auto(默认，默认不放大，收缩)")])]),a("p",[s._v("flex属性是flex-grow, flex-shrink 和 flex-basis的简写")]),a("p",[s._v("两个快捷值")]),a("ul",[a("li",[s._v("auto(1 1 auto) 放大、收缩，默认一致大小")]),a("li",[s._v("none(0 0 auto) 不放大 不收缩 默认一致大小")])]),a("blockquote",[a("p",[s._v("align-self: auto（默认） | flex-start | flex-end | center | baseline | stretch;")])]),a("p",[s._v("允许项目与其他项目对齐方式不一样,覆盖容器设置的集体align-items，默认值为auto 会继承容器的align-items")])])])])}],vs={},cs=Object(p["a"])(vs,ps,_s,!1,null,null,null),os=cs.exports,is=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},hs=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[s._v("手写代码")]),a("h2",[s._v("1.防抖")]),a("p",[s._v("事件在触发n秒后执行回调，如果n秒内事件再次被触发，则重新进行计时")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("debounce")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("fn,delay")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" timer="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" ctx="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" args="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(timer){\n            "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("clearTimeout")]),s._v("(timer)\n            timer="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n        }\n\n        timer="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("setTimeout")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n            fn."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("apply")]),s._v("(ctx,args)\n        },delay)\n    }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//测试用例")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("show")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("info")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(info)\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" deShow="),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("debounce")]),s._v("(show,"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2000")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("deShow")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("123")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("deShow")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("456")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("deShow")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("789")]),s._v(")  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//789")]),s._v("\n\n")])]),a("hr"),a("h2",[s._v("2.节流")]),a("p",[s._v("单位时间内事件被多次触发，但只执行一次回调，用以减少事件调用的次数，可以放在onscrool、onmousemove")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("throttle")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("fn,interval")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" preTime="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("now")]),s._v("()\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" ctx="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" args="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("now")]),s._v("()-preTime>interval){\n            fn."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("apply")]),s._v("(ctx,args)\n            preTime="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("now")]),s._v("()\n        }\n    }\n\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//测试用例")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("show")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("()."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("toLocaleString")]),s._v("())\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" thShow="),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("throttle")]),s._v("(show,"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2000")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("setInterval")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("thShow")]),s._v("()},"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("500")]),s._v(")\n")])]),a("h2",[s._v("3. 手写call")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("myCall")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("context")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(" !="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'function'")]),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'type error'")]),s._v(")\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" \n    }\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" ctx=context||"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("window")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" args=[..."),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v("]."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("slice")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n\n    ctx."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("fn")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" result=ctx."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fn")]),s._v("(...args)\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("delete")]),s._v(" ctx."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("fn")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" result\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//测试用例")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" obj={\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'obj'")]),s._v("\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("show")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("a")]),s._v(")\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Function")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("myCall")]),s._v("=myCall\n\nshow."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("myCall")]),s._v("(obj)\n")])]),a("hr"),a("h2",[s._v("4.手写apply")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("myApply")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("context")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(" !="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'function'")]),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'type error'")]),s._v(")\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" \n    }\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" ctx=context||"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("window")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" result="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n\n    ctx."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("fn")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v("["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("]){\n        result=ctx."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fn")]),s._v("(..."),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v("["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("])\n    }"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n        result=ctx."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fn")]),s._v("()\n    }\n\n   \n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("delete")]),s._v(" ctx."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("fn")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" result\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//测试用例")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" obj={\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'obj'")]),s._v("\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("show")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name,age")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("a")]),s._v(")\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(name,age)\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Function")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("myApply")]),s._v("=myApply\n\nshow."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("myApply")]),s._v("(obj)\nshow."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("myApply")]),s._v("(obj,["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'ss'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("14")]),s._v("])\n")])]),a("h2",[s._v("5.手写bind")]),a("p",[s._v("简单版本，复杂版本还要考虑 new https://ost.51cto.com/posts/3354")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Function")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("myBind")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("context")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" ctx=context||"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("window")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" fn="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" args=[..."),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v("]."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("slice")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" myargs=args."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("concat")]),s._v("([..."),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v("])\n        fn."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("(ctx,...myargs)\n    }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//测试用例")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" obj={"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'obj'")]),s._v("}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("show")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("a,b")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(a+b)\n}\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" bindShow=show."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("myBind")]),s._v("(obj,"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("bindShow")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("bindShow")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("bindShow")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40")]),s._v(")\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//oThis就是调用bind方法传入的对象")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Function")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("myBind")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("oThis")]),s._v("){\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* 因函数自带的arguments属性并不是一个数组，只是一个类数组，不具有slice方法，所以用call方法\n给slice()指定this为arguments，让arguments也可以实现slice()方法。\n后面传入参数1，是slice(start, end)中的参数start，表示下标为1，从第二个参数开始切割。这里是将bind\n函数的参数数组取出来，第一个参数不要(就是不要oThis)也就是要被绑定方法的那个对象。*/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" args = "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Array")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("slice")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("),\n    self = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//创建了一个空 [[prototype]] 连接的对象initFunc")]),s._v("\n    initFunc = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){},\n    fBound = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//让fToBind的this指向这个传进来的对象oThis")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//重点：")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//之所以return fToBind.apply是考虑到绑定的函数可能有返回值")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//因为可以在bind时传参数，在执行函数时也可以传参数，所以要用concat对arguments处理")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/*当bind返回的函数作为构造函数的时候，\n        bind时，指定的this会失效，但传入的参数依然生效\n        this instanceof initFunc  \n        当作为构造函数时，this指向实例，此时结果为true，将绑定函数的this指向该实例，可以让\n        实例获得来自绑定函数的值。\n        当作为普通函数时，this指向window，此时结果为false，将绑定函数的this指向oThis\n        */")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" self."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("apply")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("instanceof")]),s._v(" initFunc ? "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(" : oThis,\n                    args."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("concat")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Array")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("slice")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v(")))\n    };\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//通过改写空 [[prototype]] 连接的对象initFunc的prototype属性来关联调用bind方法的函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//重点：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//当bind返回的函数作为作为构造函数的时候调用bind时，指定的this值会失效，但传入的参数依然有效")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//所以通过修改返回的函数的原型来实现")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//为了不直接修改绑定函数的prototype，所以用一个空函数进行中转")]),s._v("\ninitFunc."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//将fBound的原型指向一个新的initFunc实例")]),s._v("\nfBound."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("initFunc")]),s._v("();\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//其实上面的步骤就是相当于fBound.prototyoe = Object.create(this.prototype);")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//通过Object.create创建一个新对象，并把它关联到我们希望的对象上，即fBound.prototype。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" fBound;\n}\n")])]),a("h2",[s._v("6. 实现instanceof")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("myInstanceof")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("left,right")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" proto="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Object")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getPrototypeOf")]),s._v("(left)\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" rightPrototype=right."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("while")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(proto=="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(proto==rightPrototype) "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n\n        proto="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Object")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getPrototypeOf")]),s._v("(proto)\n    }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//测试用例")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("Animal")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("age")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("age")]),s._v("=age||"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v("\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" p="),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Animal")]),s._v("()\n\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("myInstanceof")]),s._v("(p,"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Animal")]),s._v("))\n\n")])]),a("hr"),a("h2",[s._v("7. 实现new操作符")]),a("p",[s._v("在调用 new 的过程中会发生以上四件事情： （1）首先创建了一个新的空对象 （2）设置原型，将对象的原型设置为函数的 prototype 对象。 （3）让函数的 this 指向这个对象，执行构造函数的代码（为这个新对象添加属性） （4）判断函数的返回值类型，如果是值类型，返回创建的对象。如果是引用类型，就返回这个引用类型的对象。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("myNew")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" newObj="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" constructor="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Array")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("shift")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v(")\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" result="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" constructor !="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'function'")]),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("error")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'type erroe'")]),s._v(")\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" \n    }\n\n    newObj="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Object")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("create")]),s._v("(constructor."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v(")\n\n    result=constructor."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("apply")]),s._v("(newObj,"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v(")\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" flag=result&&("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" result==="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'object'")]),s._v("||"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" result==="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"function"')]),s._v(")\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" flag?"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("result")]),s._v(":newObj\n\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//测试用例")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("Animal")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("age")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("age")]),s._v("=age||"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v("\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("myNew")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Animal")]),s._v("))\n")])]),a("hr"),a("h2",[s._v("8.函数curry化")]),a("p",[s._v("将多参数输入函数变成单参数输入函数")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("myCurry")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("fn")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" length=fn."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" args=[..."),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v("]."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("slice")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" subArgs=args."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("concat")]),s._v("([..."),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("arguments")]),s._v("])\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(subArgs."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v(">=length){\n            fn."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("apply")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(",subArgs)\n        }"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" myCurry."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("call")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(",fn,...subArgs)\n        }\n    }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//测试用例")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("caculate")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("a,b,c,d")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("( a+b+c+d)\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" a+b+c+d\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" c="),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("myCurry")]),s._v("(caculate)("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(")("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("c")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("c")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(")\n")])]),a("hr"),a("h2",[s._v("9.对象的深、浅拷贝")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("shallowCopy")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("obj")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" obj!=="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'object'")]),s._v("|| !obj) "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" \n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" res="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Array")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("isArray")]),s._v("(obj)?[]:{}\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" key "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("in")]),s._v(" obj){\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(obj."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("hasOwnProperty")]),s._v("(key)){\n           res[key]=obj[key]\n       }\n    }\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" res\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("deepClone")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("obj")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(!obj||"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" obj!=="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'object'")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" res="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Array")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("isArray")]),s._v("(obj)?[]:{}\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" key "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("in")]),s._v(" obj){\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(obj."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("hasOwnProperty")]),s._v("(key)){\n            res[key]="),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" obj[key]==="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'object'")]),s._v("?"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("deepClone")]),s._v("(obj[key]):obj[key]\n        }\n    }\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" res\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 测试用例")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" child={\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'tr'")]),s._v("\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" obj={\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("b")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(",\n    child\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// let b=shallowCopy(obj)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" b="),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("deepClone")]),s._v("(obj)\nb."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("child")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'morecode'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(obj)\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(b)\n")])]),a("hr"),a("h2",[s._v("10.使用promise封装ajax")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("method,url")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("resolve,reject")]),s._v(")=>")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" xhr="),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("XMLHttpRequest")]),s._v("()\n        xhr."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("open")]),s._v("(method,url)\n        xhr."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("onreadystatechange")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("data")]),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(xhr."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("readyState")]),s._v("!="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(xhr."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("status")]),s._v("=="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")]),s._v("){\n               "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("resolve")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("response")]),s._v(")\n            }"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Error")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("statusText")]),s._v("))\n            }\n        }\n\n        xhr."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("onerror")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Error")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("statusText")]),s._v("))\n        }\n\n        xhr."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setRequestHeader")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Accept'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'application/json'")]),s._v(")\n        xhr."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("send")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(")\n    })\n}\n")])]),a("hr"),a("h2",[s._v("11.二分查找")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("serach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("nums,target")]),s._v("){\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" start="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" end=nums."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v("-"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("while")]),s._v("(start<=end){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" mid="),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Math")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("floor")]),s._v("((end-start)/"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(")+start\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(nums[mid]==target){\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" mid\n    }\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(nums[mid]>target){\n      end=mid-"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n    }"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n      start=mid+"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n    }\n  }\n\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n  \n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("serach")]),s._v("(["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("7")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("8")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("9")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v("],"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("8")]),s._v("))\n")])]),a("h2",[s._v("12. promise限制请求个数")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("\t"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n\t * @description 限制并发请求\n\t * @param {apiList} 请求接口列表\n\t * @param {limit} 限制请求接口的数量，默认每次最多发送3次请求\n\t * @return { Promise<Array> } resList\n\t */")]),s._v("\n\t "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 这里没有 callback 是因为返回的是 Promise 对象，其 then 方法取代了 callback")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("requestWithLimit")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("apiList, limit = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")])]),s._v(") => {\n    \t"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// apiList 的副本，避免 shift 方法对参数造成影响")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" list = [...apiList]\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 用来记录api - response 的映射")]),s._v("\n  \t\t"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 保证输出与输入顺序一致")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" map = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Map")]),s._v("()\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 递归调用")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("run")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") => {\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (list."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v(") {\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" api = list."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("shift")]),s._v("()\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("(api)."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("res")]),s._v(" =>")]),s._v(" {\n                    map."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("set")]),s._v("(api, res)\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("run")]),s._v("()\n                })\n            }\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当 apiList.length < limit 的时候，避免创建多余的 Promise")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" promiseList = "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Array")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Math")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("min")]),s._v("(apiList."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v(", limit))."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fill")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("resolve")]),s._v("())."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("map")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("promise")]),s._v(" =>")]),s._v(" promise."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("(run))\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("all")]),s._v("(promiseList)."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" apiList."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("map")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("c")]),s._v(" =>")]),s._v(" map."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("get")]),s._v("(c))\n        })\n    }\n    \n\t"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("requestWithLimit")]),s._v("(apiList, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(")."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("res")]),s._v(" =>")]),s._v(" {\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'请求完毕:'")]),s._v(", res)\n\t})\n\n")])]),a("h2",[s._v("13.多个条件排序")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" arr = [\n  { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"hello"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("15")]),s._v(" },\n  { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"abca"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("17")]),s._v(" },\n  { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"abc"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("17")]),s._v(" },\n  { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"amc"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("17")]),s._v(" },\n  { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"zoo"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("13")]),s._v(" },\n  { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"amac"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("17")]),s._v(" },\n  { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"zao"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("13")]),s._v(" },\n  { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("17")]),s._v(" },\n];\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("sort")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("arr")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" ans=arr."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("sort")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("a,b")]),s._v(")=>")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(a."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("age")]),s._v("!="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("&&b."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("age")]),s._v("!="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(a."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("age")]),s._v("!=b."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("age")]),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" a."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("age")]),s._v("-b."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("age")]),s._v("\n            }"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(a,b)\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" i="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("while")]),s._v("(i<"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Math")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("min")]),s._v("(a."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v(",b."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v(")){\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(a."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("charCodeAt")]),s._v("(i)!=b."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("charCodeAt")]),s._v("(i)){\n                        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" a."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("charCodeAt")]),s._v("(i)-b."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("charCodeAt")]),s._v("(i)\n                    }"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n                        i++\n                    }\n                }\n\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(a."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v("[i]==="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("){\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(a)\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" -"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n                }"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n                }\n            }\n        }\n\n    })\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ans\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("sort")]),s._v("(arr))\n")])]),a("h2",[s._v("14.LRU缓存")]),a("p",[s._v("缓存空间有限，get取值时有则返回，没有则-1 put新增时，有则更新，无则添加")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("LRUCache")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("capacity")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("map")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Map")]),s._v("()\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("capacity")]),s._v("=capacity\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/** \n * @param {number} key\n * @return {number}\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("LRUCache")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("get")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("key")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("map")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("has")]),s._v("(key)){\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" val="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("map")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("get")]),s._v("(key)\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("map")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("delete")]),s._v("(key)\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("map")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("set")]),s._v("(key,val)\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("map")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("get")]),s._v("(key)\n    }"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" -"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n    }\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/** \n * @param {number} key \n * @param {number} value\n * @return {void}\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("LRUCache")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("prototype")])]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("put")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("key, value")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("map")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("has")]),s._v("(key)){\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("map")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("delete")]),s._v("(key)\n    }\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("map")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("set")]),s._v("(key,value)\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("map")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("size")]),s._v(">"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("capacity")]),s._v("){\n          "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("map")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("delete")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("map")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("keys")]),s._v("()."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("()."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(")\n      }\n};\n")])])])])])}],us={},js=Object(p["a"])(us,is,hs,!1,null,null,null),ds=js.exports,ms={name:"Home",components:{BrowserCache:c,ParseUrl:j,DeferAndAsync:g,HttpsProtocol:S,JS01:O,SimpleRequest:D,HTML01:F,HTTPBasic:B,BrowserTheory:Z,BrowserOptimize:ts,ES6Summary:ns,InterviewSummary:os,Coding:ds},props:{},data:function(){return{currentView:"BrowserCache",notesMap:[{code:"ES6Summary",component:"ES6Summary"},{code:"browser-cache",component:"BrowserCache"},{code:"ParseUrl",component:"ParseUrl"},{code:"DeferAndAsync",component:"DeferAndAsync"},{code:"JS01",component:"JS01"},{code:"HttpsProtocol",component:"HttpsProtocol"},{code:"SimpleRequest",component:"SimpleRequest"},{code:"html-basic",component:"HTML01"},{code:"http",component:"HTTPBasic"},{code:"BrowserTheory",component:"BrowserTheory"},{code:"BrowserOptimize",component:"BrowserOptimize"},{code:"InterviewSummary",component:"InterviewSummary"},{code:"Coding",component:"Coding"}]}},watch:{$route:{handler:function(s){var t=s.params.articleName,a=this.notesMap.filter((function(s){return s.code===t}));a&&a.length>0&&(this.currentView=a[0].component)},deep:!0}},computed:{},mounted:function(){var s=this.$route.params,t=s.articleName,a=this.notesMap.filter((function(s){return s.code===t}));this.currentView=a[0].component},methods:{}},fs=ms,ys=(a("922a"),Object(p["a"])(fs,e,r,!1,null,null,null));t["default"]=ys.exports}}]);
//# sourceMappingURL=chunk-781fa144.617f631c.js.map